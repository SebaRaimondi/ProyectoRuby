  [1m[35m (128.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "test"[0m
  [1m[35m (600.4ms)[0m  [1m[35mCREATE DATABASE "test" ENCODING = 'utf8'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "courses" CASCADE[0m
  [1m[35m (27.8ms)[0m  [1m[35mCREATE TABLE "courses" ("id" bigserial primary key, "year" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "title" character varying)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "exams" CASCADE[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "exams" ("id" bigserial primary key, "course_id" bigint, "title" character varying, "date" date, "min" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE  INDEX  "index_exams_on_course_id" ON "exams"  ("course_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "results" CASCADE[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "results" ("id" bigserial primary key, "mark" integer, "exam_id" bigint, "student_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE  INDEX  "index_results_on_exam_id" ON "results"  ("exam_id")[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE  INDEX  "index_results_on_student_id" ON "results"  ("student_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "students" CASCADE[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "students" ("id" bigserial primary key, "course_id" bigint, "surname" character varying, "name" character varying, "dni" character varying, "number" character varying, "email" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE  INDEX  "index_students_on_course_id" ON "students"  ("course_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" character varying, "last_sign_in_ip" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "exams" ADD CONSTRAINT "fk_rails_66aea76c6a"
FOREIGN KEY ("course_id")
  REFERENCES "courses" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "results" ADD CONSTRAINT "fk_rails_05bc8be9c8"
FOREIGN KEY ("exam_id")
  REFERENCES "exams" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "results" ADD CONSTRAINT "fk_rails_6cc04affd2"
FOREIGN KEY ("student_id")
  REFERENCES "students" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "students" ADD CONSTRAINT "fk_rails_a258d82422"
FOREIGN KEY ("course_id")
  REFERENCES "courses" ("id")
[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20171218185552)[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20171213020859),
(20171212053016),
(20171213020950),
(20171213021033),
(20171216201840);

[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-12-21 18:30:59.847194"], ["updated_at", "2017-12-21 18:30:59.847194"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (1.1ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:30:59.938861', '2017-12-21 18:30:59.938861', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:30:59.955254', '2017-12-21 18:30:59.955254', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:30:59.964381', '2017-12-21 18:30:59.964381', 980190962, 980190962)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (1.5ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:30:59.972566', '2017-12-21 18:30:59.972566', 980190962, 980190962)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:30:59.988714', '2017-12-21 18:30:59.988714', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:30:59.998089', '2017-12-21 18:30:59.998089', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.006633', '2017-12-21 18:31:00.006633', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.023393', '2017-12-21 18:31:00.023393', 980190962, 980190962)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.034420', '2017-12-21 18:31:00.034420', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.042056', '2017-12-21 18:31:00.042056', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (1.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.050333', '2017-12-21 18:31:00.050333', 980190962, 980190962)[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.063059', '2017-12-21 18:31:00.063059', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.071073', '2017-12-21 18:31:00.071073', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.078622', '2017-12-21 18:31:00.078622', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (1.0ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.089998', '2017-12-21 18:31:00.089998', 980190962, 980190962)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.108808', '2017-12-21 18:31:00.108808', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.117090', '2017-12-21 18:31:00.117090', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.130314', '2017-12-21 18:31:00.130314', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.139764', '2017-12-21 18:31:00.139764', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.147825', '2017-12-21 18:31:00.147825', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (1.7ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.155779', '2017-12-21 18:31:00.155779', 980190962, 980190962)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.172659', '2017-12-21 18:31:00.172659', 980190962, 980190962)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.339299', '2017-12-21 18:31:00.339299', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (6.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.349298', '2017-12-21 18:31:00.349298', 980190962, 980190962)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (1.1ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.366141', '2017-12-21 18:31:00.366141', 980190962, 980190962)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.378197', '2017-12-21 18:31:00.378197', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.385619', '2017-12-21 18:31:00.385619', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.392965', '2017-12-21 18:31:00.392965', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:31:00.406674', '2017-12-21 18:31:00.406674', 980190962, 980190962)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:09.533065', '2017-12-21 18:37:09.533065', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:09.533065', '2017-12-21 18:37:09.533065', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:09.550266', '2017-12-21 18:37:09.550266', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:09.550266', '2017-12-21 18:37:09.550266', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:09.550266', '2017-12-21 18:37:09.550266', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:09.558820', '2017-12-21 18:37:09.558820', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:09.558820', '2017-12-21 18:37:09.558820', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.567072', '2017-12-21 18:37:09.567072', 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.567072', '2017-12-21 18:37:09.567072', 298486374)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:09.580533', '2017-12-21 18:37:09.580533', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:09.580533', '2017-12-21 18:37:09.580533', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:09.585331', '2017-12-21 18:37:09.585331', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:09.585331', '2017-12-21 18:37:09.585331', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:09.585331', '2017-12-21 18:37:09.585331', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:09.594577', '2017-12-21 18:37:09.594577', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:09.594577', '2017-12-21 18:37:09.594577', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.600612', '2017-12-21 18:37:09.600612', 980190962)[0m
  [1m[36mFixture Insert (2.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.600612', '2017-12-21 18:37:09.600612', 298486374)[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:09.616028', '2017-12-21 18:37:09.616028', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:09.616028', '2017-12-21 18:37:09.616028', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:09.620732', '2017-12-21 18:37:09.620732', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:09.620732', '2017-12-21 18:37:09.620732', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:09.620732', '2017-12-21 18:37:09.620732', 926834398)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:09.625300', '2017-12-21 18:37:09.625300', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:09.625300', '2017-12-21 18:37:09.625300', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.628888', '2017-12-21 18:37:09.628888', 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.628888', '2017-12-21 18:37:09.628888', 298486374)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:09.641270', '2017-12-21 18:37:09.641270', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:09.641270', '2017-12-21 18:37:09.641270', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:09.650525', '2017-12-21 18:37:09.650525', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:09.650525', '2017-12-21 18:37:09.650525', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:09.650525', '2017-12-21 18:37:09.650525', 926834398)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:09.654927', '2017-12-21 18:37:09.654927', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:09.654927', '2017-12-21 18:37:09.654927', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.659113', '2017-12-21 18:37:09.659113', 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.659113', '2017-12-21 18:37:09.659113', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:09.668435', '2017-12-21 18:37:09.668435', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:09.668435', '2017-12-21 18:37:09.668435', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:09.674923', '2017-12-21 18:37:09.674923', 980190962)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:09.674923', '2017-12-21 18:37:09.674923', 298486374)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:09.674923', '2017-12-21 18:37:09.674923', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:09.685233', '2017-12-21 18:37:09.685233', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:09.685233', '2017-12-21 18:37:09.685233', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.689848', '2017-12-21 18:37:09.689848', 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.689848', '2017-12-21 18:37:09.689848', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:09.699322', '2017-12-21 18:37:09.699322', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:09.699322', '2017-12-21 18:37:09.699322', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:09.704425', '2017-12-21 18:37:09.704425', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:09.704425', '2017-12-21 18:37:09.704425', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:09.704425', '2017-12-21 18:37:09.704425', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:09.714393', '2017-12-21 18:37:09.714393', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:09.714393', '2017-12-21 18:37:09.714393', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.719956', '2017-12-21 18:37:09.719956', 980190962)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.719956', '2017-12-21 18:37:09.719956', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:09.728066', '2017-12-21 18:37:09.728066', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:09.728066', '2017-12-21 18:37:09.728066', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:09.732129', '2017-12-21 18:37:09.732129', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:09.732129', '2017-12-21 18:37:09.732129', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:09.732129', '2017-12-21 18:37:09.732129', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:09.736251', '2017-12-21 18:37:09.736251', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:09.736251', '2017-12-21 18:37:09.736251', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.740660', '2017-12-21 18:37:09.740660', 980190962)[0m
  [1m[36mFixture Insert (1.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.740660', '2017-12-21 18:37:09.740660', 298486374)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:09.756909', '2017-12-21 18:37:09.756909', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:09.756909', '2017-12-21 18:37:09.756909', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:09.761317', '2017-12-21 18:37:09.761317', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:09.761317', '2017-12-21 18:37:09.761317', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:09.761317', '2017-12-21 18:37:09.761317', 926834398)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:09.765322', '2017-12-21 18:37:09.765322', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:09.765322', '2017-12-21 18:37:09.765322', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.769220', '2017-12-21 18:37:09.769220', 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.769220', '2017-12-21 18:37:09.769220', 298486374)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:09.870576', '2017-12-21 18:37:09.870576', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:09.870576', '2017-12-21 18:37:09.870576', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:09.874854', '2017-12-21 18:37:09.874854', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:09.874854', '2017-12-21 18:37:09.874854', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:09.874854', '2017-12-21 18:37:09.874854', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:09.880859', '2017-12-21 18:37:09.880859', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:09.880859', '2017-12-21 18:37:09.880859', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.885597', '2017-12-21 18:37:09.885597', 980190962)[0m
  [1m[36mFixture Insert (0.8ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.885597', '2017-12-21 18:37:09.885597', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:09.900469', '2017-12-21 18:37:09.900469', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:09.900469', '2017-12-21 18:37:09.900469', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:09.907587', '2017-12-21 18:37:09.907587', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:09.907587', '2017-12-21 18:37:09.907587', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:09.907587', '2017-12-21 18:37:09.907587', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:09.912380', '2017-12-21 18:37:09.912380', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:09.912380', '2017-12-21 18:37:09.912380', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.916707', '2017-12-21 18:37:09.916707', 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.916707', '2017-12-21 18:37:09.916707', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:09.928262', '2017-12-21 18:37:09.928262', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:09.928262', '2017-12-21 18:37:09.928262', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:09.938858', '2017-12-21 18:37:09.938858', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:09.938858', '2017-12-21 18:37:09.938858', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:09.938858', '2017-12-21 18:37:09.938858', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:09.943680', '2017-12-21 18:37:09.943680', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:09.943680', '2017-12-21 18:37:09.943680', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.948242', '2017-12-21 18:37:09.948242', 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.948242', '2017-12-21 18:37:09.948242', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:09.958141', '2017-12-21 18:37:09.958141', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:09.958141', '2017-12-21 18:37:09.958141', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:09.964914', '2017-12-21 18:37:09.964914', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:09.964914', '2017-12-21 18:37:09.964914', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:09.964914', '2017-12-21 18:37:09.964914', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:09.972952', '2017-12-21 18:37:09.972952', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:09.972952', '2017-12-21 18:37:09.972952', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.978217', '2017-12-21 18:37:09.978217', 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:09.978217', '2017-12-21 18:37:09.978217', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:09.986450', '2017-12-21 18:37:09.986450', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:09.986450', '2017-12-21 18:37:09.986450', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:09.990530', '2017-12-21 18:37:09.990530', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:09.990530', '2017-12-21 18:37:09.990530', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:09.990530', '2017-12-21 18:37:09.990530', 926834398)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:09.994496', '2017-12-21 18:37:09.994496', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:09.994496', '2017-12-21 18:37:09.994496', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.000580', '2017-12-21 18:37:10.000580', 980190962)[0m
  [1m[36mFixture Insert (0.8ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.000580', '2017-12-21 18:37:10.000580', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.015517', '2017-12-21 18:37:10.015517', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.015517', '2017-12-21 18:37:10.015517', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.020735', '2017-12-21 18:37:10.020735', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.020735', '2017-12-21 18:37:10.020735', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.020735', '2017-12-21 18:37:10.020735', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.025630', '2017-12-21 18:37:10.025630', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.025630', '2017-12-21 18:37:10.025630', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.030225', '2017-12-21 18:37:10.030225', 980190962)[0m
  [1m[36mFixture Insert (1.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.030225', '2017-12-21 18:37:10.030225', 298486374)[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.047945', '2017-12-21 18:37:10.047945', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.047945', '2017-12-21 18:37:10.047945', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.052428', '2017-12-21 18:37:10.052428', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.052428', '2017-12-21 18:37:10.052428', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.052428', '2017-12-21 18:37:10.052428', 926834398)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.056545', '2017-12-21 18:37:10.056545', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.056545', '2017-12-21 18:37:10.056545', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.060207', '2017-12-21 18:37:10.060207', 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.060207', '2017-12-21 18:37:10.060207', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.074353', '2017-12-21 18:37:10.074353', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.074353', '2017-12-21 18:37:10.074353', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.081901', '2017-12-21 18:37:10.081901', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.081901', '2017-12-21 18:37:10.081901', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.081901', '2017-12-21 18:37:10.081901', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.087008', '2017-12-21 18:37:10.087008', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.087008', '2017-12-21 18:37:10.087008', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.091477', '2017-12-21 18:37:10.091477', 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.091477', '2017-12-21 18:37:10.091477', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.100636', '2017-12-21 18:37:10.100636', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.100636', '2017-12-21 18:37:10.100636', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.117386', '2017-12-21 18:37:10.117386', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.117386', '2017-12-21 18:37:10.117386', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.117386', '2017-12-21 18:37:10.117386', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.122148', '2017-12-21 18:37:10.122148', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.122148', '2017-12-21 18:37:10.122148', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.126693', '2017-12-21 18:37:10.126693', 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.126693', '2017-12-21 18:37:10.126693', 298486374)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.136166', '2017-12-21 18:37:10.136166', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.136166', '2017-12-21 18:37:10.136166', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.145807', '2017-12-21 18:37:10.145807', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.145807', '2017-12-21 18:37:10.145807', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.145807', '2017-12-21 18:37:10.145807', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.152022', '2017-12-21 18:37:10.152022', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.152022', '2017-12-21 18:37:10.152022', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.156526', '2017-12-21 18:37:10.156526', 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.156526', '2017-12-21 18:37:10.156526', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.165186', '2017-12-21 18:37:10.165186', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.165186', '2017-12-21 18:37:10.165186', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.169752', '2017-12-21 18:37:10.169752', 980190962)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.169752', '2017-12-21 18:37:10.169752', 298486374)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.169752', '2017-12-21 18:37:10.169752', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.176660', '2017-12-21 18:37:10.176660', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.8ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.176660', '2017-12-21 18:37:10.176660', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.185706', '2017-12-21 18:37:10.185706', 980190962)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.185706', '2017-12-21 18:37:10.185706', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.194248', '2017-12-21 18:37:10.194248', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.194248', '2017-12-21 18:37:10.194248', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.199054', '2017-12-21 18:37:10.199054', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.199054', '2017-12-21 18:37:10.199054', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.199054', '2017-12-21 18:37:10.199054', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.204215', '2017-12-21 18:37:10.204215', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.204215', '2017-12-21 18:37:10.204215', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (1.0ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.210711', '2017-12-21 18:37:10.210711', 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.210711', '2017-12-21 18:37:10.210711', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.225054', '2017-12-21 18:37:10.225054', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.225054', '2017-12-21 18:37:10.225054', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.230117', '2017-12-21 18:37:10.230117', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.230117', '2017-12-21 18:37:10.230117', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.230117', '2017-12-21 18:37:10.230117', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.235046', '2017-12-21 18:37:10.235046', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.235046', '2017-12-21 18:37:10.235046', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.8ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.239913', '2017-12-21 18:37:10.239913', 980190962)[0m
  [1m[36mFixture Insert (1.0ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.239913', '2017-12-21 18:37:10.239913', 298486374)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.256363', '2017-12-21 18:37:10.256363', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.256363', '2017-12-21 18:37:10.256363', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.261304', '2017-12-21 18:37:10.261304', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.261304', '2017-12-21 18:37:10.261304', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.261304', '2017-12-21 18:37:10.261304', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.266043', '2017-12-21 18:37:10.266043', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.266043', '2017-12-21 18:37:10.266043', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.270591', '2017-12-21 18:37:10.270591', 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.270591', '2017-12-21 18:37:10.270591', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.285107', '2017-12-21 18:37:10.285107', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.285107', '2017-12-21 18:37:10.285107', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.290885', '2017-12-21 18:37:10.290885', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.290885', '2017-12-21 18:37:10.290885', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.290885', '2017-12-21 18:37:10.290885', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.295492', '2017-12-21 18:37:10.295492', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.295492', '2017-12-21 18:37:10.295492', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.300146', '2017-12-21 18:37:10.300146', 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.300146', '2017-12-21 18:37:10.300146', 298486374)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.310377', '2017-12-21 18:37:10.310377', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.310377', '2017-12-21 18:37:10.310377', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.320289', '2017-12-21 18:37:10.320289', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.320289', '2017-12-21 18:37:10.320289', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.320289', '2017-12-21 18:37:10.320289', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.328118', '2017-12-21 18:37:10.328118', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.328118', '2017-12-21 18:37:10.328118', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.332592', '2017-12-21 18:37:10.332592', 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.332592', '2017-12-21 18:37:10.332592', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.341875', '2017-12-21 18:37:10.341875', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.341875', '2017-12-21 18:37:10.341875', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.346871', '2017-12-21 18:37:10.346871', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.346871', '2017-12-21 18:37:10.346871', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.346871', '2017-12-21 18:37:10.346871', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.356693', '2017-12-21 18:37:10.356693', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.356693', '2017-12-21 18:37:10.356693', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.362440', '2017-12-21 18:37:10.362440', 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.362440', '2017-12-21 18:37:10.362440', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.371808', '2017-12-21 18:37:10.371808', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.371808', '2017-12-21 18:37:10.371808', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.376687', '2017-12-21 18:37:10.376687', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.376687', '2017-12-21 18:37:10.376687', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.376687', '2017-12-21 18:37:10.376687', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.381440', '2017-12-21 18:37:10.381440', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.381440', '2017-12-21 18:37:10.381440', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.390024', '2017-12-21 18:37:10.390024', 980190962)[0m
  [1m[36mFixture Insert (0.9ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.390024', '2017-12-21 18:37:10.390024', 298486374)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.403933', '2017-12-21 18:37:10.403933', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.403933', '2017-12-21 18:37:10.403933', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.408557', '2017-12-21 18:37:10.408557', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.408557', '2017-12-21 18:37:10.408557', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.408557', '2017-12-21 18:37:10.408557', 926834398)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.413175', '2017-12-21 18:37:10.413175', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.413175', '2017-12-21 18:37:10.413175', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.416818', '2017-12-21 18:37:10.416818', 980190962)[0m
  [1m[36mFixture Insert (1.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.416818', '2017-12-21 18:37:10.416818', 298486374)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.432106', '2017-12-21 18:37:10.432106', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.432106', '2017-12-21 18:37:10.432106', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.437116', '2017-12-21 18:37:10.437116', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.437116', '2017-12-21 18:37:10.437116', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.437116', '2017-12-21 18:37:10.437116', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.441810', '2017-12-21 18:37:10.441810', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.441810', '2017-12-21 18:37:10.441810', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.446101', '2017-12-21 18:37:10.446101', 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.446101', '2017-12-21 18:37:10.446101', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:37:10.456897', '2017-12-21 18:37:10.456897', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:37:10.456897', '2017-12-21 18:37:10.456897', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:37:10.465005', '2017-12-21 18:37:10.465005', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:37:10.465005', '2017-12-21 18:37:10.465005', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:37:10.465005', '2017-12-21 18:37:10.465005', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:37:10.470802', '2017-12-21 18:37:10.470802', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:37:10.470802', '2017-12-21 18:37:10.470802', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.475463', '2017-12-21 18:37:10.475463', 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:37:10.475463', '2017-12-21 18:37:10.475463', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:46:27.383945', '2017-12-21 18:46:27.383945', 980190962, 980190962)[0m
  [1m[36mFixture Insert (1.1ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:46:27.383945', '2017-12-21 18:46:27.383945', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:46:27.399916', '2017-12-21 18:46:27.399916', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:46:27.399916', '2017-12-21 18:46:27.399916', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:46:27.399916', '2017-12-21 18:46:27.399916', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:46:27.408230', '2017-12-21 18:46:27.408230', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:46:27.408230', '2017-12-21 18:46:27.408230', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:46:27.416731', '2017-12-21 18:46:27.416731', 980190962)[0m
  [1m[36mFixture Insert (0.8ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:46:27.416731', '2017-12-21 18:46:27.416731', 298486374)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:46:27.431539', '2017-12-21 18:46:27.431539', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:46:27.431539', '2017-12-21 18:46:27.431539', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:46:27.436949', '2017-12-21 18:46:27.436949', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:46:27.436949', '2017-12-21 18:46:27.436949', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:46:27.436949', '2017-12-21 18:46:27.436949', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:46:27.445769', '2017-12-21 18:46:27.445769', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:46:27.445769', '2017-12-21 18:46:27.445769', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:46:27.451381', '2017-12-21 18:46:27.451381', 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:46:27.451381', '2017-12-21 18:46:27.451381', 298486374)[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:46:27.464112', '2017-12-21 18:46:27.464112', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:46:27.464112', '2017-12-21 18:46:27.464112', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:46:27.470757', '2017-12-21 18:46:27.470757', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:46:27.470757', '2017-12-21 18:46:27.470757', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:46:27.470757', '2017-12-21 18:46:27.470757', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:46:27.475355', '2017-12-21 18:46:27.475355', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:46:27.475355', '2017-12-21 18:46:27.475355', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:46:27.479791', '2017-12-21 18:46:27.479791', 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:46:27.479791', '2017-12-21 18:46:27.479791', 298486374)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:46:27.491831', '2017-12-21 18:46:27.491831', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:46:27.491831', '2017-12-21 18:46:27.491831', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:46:27.500210', '2017-12-21 18:46:27.500210', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:46:27.500210', '2017-12-21 18:46:27.500210', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:46:27.500210', '2017-12-21 18:46:27.500210', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:46:27.504033', '2017-12-21 18:46:27.504033', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:46:27.504033', '2017-12-21 18:46:27.504033', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:46:27.508057', '2017-12-21 18:46:27.508057', 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:46:27.508057', '2017-12-21 18:46:27.508057', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:46:27.516934', '2017-12-21 18:46:27.516934', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:46:27.516934', '2017-12-21 18:46:27.516934', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:46:27.520819', '2017-12-21 18:46:27.520819', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:46:27.520819', '2017-12-21 18:46:27.520819', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:46:27.520819', '2017-12-21 18:46:27.520819', 926834398)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:46:27.529244', '2017-12-21 18:46:27.529244', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:46:27.529244', '2017-12-21 18:46:27.529244', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:46:27.537335', '2017-12-21 18:46:27.537335', 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:46:27.537335', '2017-12-21 18:46:27.537335', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:46:27.547267', '2017-12-21 18:46:27.547267', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:46:27.547267', '2017-12-21 18:46:27.547267', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:46:27.552341', '2017-12-21 18:46:27.552341', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:46:27.552341', '2017-12-21 18:46:27.552341', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:46:27.552341', '2017-12-21 18:46:27.552341', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (1.0ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:46:27.557760', '2017-12-21 18:46:27.557760', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.8ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:46:27.557760', '2017-12-21 18:46:27.557760', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:46:27.569474', '2017-12-21 18:46:27.569474', 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:46:27.569474', '2017-12-21 18:46:27.569474', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:46:27.579590', '2017-12-21 18:46:27.579590', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:46:27.579590', '2017-12-21 18:46:27.579590', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:46:27.584664', '2017-12-21 18:46:27.584664', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:46:27.584664', '2017-12-21 18:46:27.584664', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:46:27.584664', '2017-12-21 18:46:27.584664', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:46:27.589245', '2017-12-21 18:46:27.589245', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:46:27.589245', '2017-12-21 18:46:27.589245', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:46:27.599116', '2017-12-21 18:46:27.599116', 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-12-21 18:46:27.599116', '2017-12-21 18:46:27.599116', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:52:01.489213', '2017-12-21 18:52:01.489213', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.9ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:52:01.489213', '2017-12-21 18:52:01.489213', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:52:01.505162', '2017-12-21 18:52:01.505162', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:52:01.505162', '2017-12-21 18:52:01.505162', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:52:01.505162', '2017-12-21 18:52:01.505162', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:52:01.513218', '2017-12-21 18:52:01.513218', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:52:01.513218', '2017-12-21 18:52:01.513218', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 18:52:01.519745', '2017-12-21 18:52:01.519745', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 18:52:01.519745', '2017-12-21 18:52:01.519745', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 18:52:01.519745', '2017-12-21 18:52:01.519745', 113629430, 980190962)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
CoursesControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/courses" for 127.0.0.1 at 2017-12-21 15:52:01 -0300
Processing by CoursesController#index as HTML
Completed 401 Unauthorized in 9ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_show_course
----------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/courses/980190962" for 127.0.0.1 at 2017-12-21 15:52:01 -0300
Processing by CoursesController#show as HTML
  Parameters: {"id"=>"980190962"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2017-12-21 15:52:01 -0300
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"year"=>"2017"}}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/980190962" for 127.0.0.1 at 2017-12-21 15:52:01 -0300
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/courses/new" for 127.0.0.1 at 2017-12-21 15:52:01 -0300
Processing by CoursesController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/courses/980190962/edit" for 127.0.0.1 at 2017-12-21 15:52:01 -0300
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"980190962"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.7ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/980190962" for 127.0.0.1 at 2017-12-21 15:52:01 -0300
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"year"=>"2017"}, "id"=>"980190962"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 18:52:01.803758"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by StudentsController#update as HTML
  Parameters: {"student"=>{"course_id"=>"980190962", "created_at"=>"2017-12-21 15:52:01 -0300", "dni"=>"98765432", "email"=>"example@example.com", "id"=>"980190962", "name"=>"Pedro", "number"=>"98765/4", "surname"=>"Brost", "updated_at"=>"2017-12-21 15:52:01 -0300"}, "course_id"=>"980190962", "id"=>"980190962"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Processing by StudentsController#create as HTML
  Parameters: {"student"=>{"course_id"=>"980190962", "created_at"=>"2017-12-21 15:52:01 -0300", "dni"=>"98765432", "email"=>"example@example.com", "id"=>"980190962", "name"=>"Pedro", "number"=>"98765/4", "surname"=>"Brost", "updated_at"=>"2017-12-21 15:52:01 -0300"}, "course_id"=>"980190962"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by StudentsController#index as HTML
  Parameters: {"course_id"=>"980190962"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
StudentsControllerTest: test_should_show_student
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Processing by StudentsController#destroy as HTML
  Parameters: {"course_id"=>"980190962", "id"=>"980190962"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
StudentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by StudentsController#new as HTML
  Parameters: {"course_id"=>"980190962"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCourse Load (0.5ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by StudentsController#edit as HTML
  Parameters: {"course_id"=>"980190962", "id"=>"980190962"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ExamsControllerTest: test_should_destroy_exam
---------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams"[0m
Processing by ExamsController#destroy as HTML
  Parameters: {"course_id"=>"980190962", "id"=>"980190962"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamsControllerTest: test_should_create_exam
--------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams"[0m
Processing by ExamsController#create as HTML
  Parameters: {"exam"=>{"course_id"=>"980190962", "created_at"=>"2017-12-21 15:52:01 -0300", "date"=>"2017-12-12", "id"=>"980190962", "min"=>"5", "title"=>"Exam 1", "updated_at"=>"2017-12-21 15:52:01 -0300"}, "course_id"=>"980190962"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by ExamsController#index as HTML
  Parameters: {"course_id"=>"980190962"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamsControllerTest: test_should_show_exam
------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by ExamsController#new as HTML
  Parameters: {"course_id"=>"980190962"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamsControllerTest: test_should_update_exam
--------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by ExamsController#update as HTML
  Parameters: {"exam"=>{"course_id"=>"980190962", "created_at"=>"2017-12-21 15:52:01 -0300", "date"=>"2017-12-12", "id"=>"980190962", "min"=>"5", "title"=>"Exam 1", "updated_at"=>"2017-12-21 15:52:01 -0300"}, "course_id"=>"980190962", "id"=>"980190962"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by ExamsController#edit as HTML
  Parameters: {"course_id"=>"980190962", "id"=>"980190962"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:52:27.815325', '2017-12-21 18:52:27.815325', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:52:27.815325', '2017-12-21 18:52:27.815325', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:52:27.832761', '2017-12-21 18:52:27.832761', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:52:27.832761', '2017-12-21 18:52:27.832761', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:52:27.832761', '2017-12-21 18:52:27.832761', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:52:27.842129', '2017-12-21 18:52:27.842129', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:52:27.842129', '2017-12-21 18:52:27.842129', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 18:52:27.849997', '2017-12-21 18:52:27.849997', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 18:52:27.849997', '2017-12-21 18:52:27.849997', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 18:52:27.849997', '2017-12-21 18:52:27.849997', 113629430, 980190962)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 18:52:27.908765"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:52:56.135327', '2017-12-21 18:52:56.135327', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:52:56.135327', '2017-12-21 18:52:56.135327', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:52:56.151826', '2017-12-21 18:52:56.151826', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:52:56.151826', '2017-12-21 18:52:56.151826', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:52:56.151826', '2017-12-21 18:52:56.151826', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:52:56.160785', '2017-12-21 18:52:56.160785', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:52:56.160785', '2017-12-21 18:52:56.160785', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 18:52:56.170062', '2017-12-21 18:52:56.170062', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 18:52:56.170062', '2017-12-21 18:52:56.170062', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 18:52:56.170062', '2017-12-21 18:52:56.170062', 113629430, 980190962)[0m
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 18:52:56.225521"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:53:15.951557', '2017-12-21 18:53:15.951557', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:53:15.951557', '2017-12-21 18:53:15.951557', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:53:15.968562', '2017-12-21 18:53:15.968562', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:53:15.968562', '2017-12-21 18:53:15.968562', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:53:15.968562', '2017-12-21 18:53:15.968562', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:53:15.976997', '2017-12-21 18:53:15.976997', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:53:15.976997', '2017-12-21 18:53:15.976997', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 18:53:15.986704', '2017-12-21 18:53:15.986704', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 18:53:15.986704', '2017-12-21 18:53:15.986704', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 18:53:15.986704', '2017-12-21 18:53:15.986704', 113629430, 980190962)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 18:53:16.031355"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:53:41.461987', '2017-12-21 18:53:41.461987', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:53:41.461987', '2017-12-21 18:53:41.461987', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:53:41.471915', '2017-12-21 18:53:41.471915', 980190962)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:53:41.471915', '2017-12-21 18:53:41.471915', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:53:41.471915', '2017-12-21 18:53:41.471915', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:53:41.486378', '2017-12-21 18:53:41.486378', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:53:41.486378', '2017-12-21 18:53:41.486378', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 18:53:41.494303', '2017-12-21 18:53:41.494303', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 18:53:41.494303', '2017-12-21 18:53:41.494303', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 18:53:41.494303', '2017-12-21 18:53:41.494303', 113629430, 980190962)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "soy un titulo"], ["updated_at", "2017-12-21 18:53:41.541398"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (1.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (75.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:54:02.178814', '2017-12-21 18:54:02.178814', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:54:02.178814', '2017-12-21 18:54:02.178814', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:54:02.189348', '2017-12-21 18:54:02.189348', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:54:02.189348', '2017-12-21 18:54:02.189348', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:54:02.189348', '2017-12-21 18:54:02.189348', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:54:02.199055', '2017-12-21 18:54:02.199055', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:54:02.199055', '2017-12-21 18:54:02.199055', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 18:54:02.207580', '2017-12-21 18:54:02.207580', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 18:54:02.207580', '2017-12-21 18:54:02.207580', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 18:54:02.207580', '2017-12-21 18:54:02.207580', 113629430, 980190962)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 18:54:02.245904"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:54:33.403960', '2017-12-21 18:54:33.403960', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:54:33.403960', '2017-12-21 18:54:33.403960', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:54:33.419924', '2017-12-21 18:54:33.419924', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:54:33.419924', '2017-12-21 18:54:33.419924', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:54:33.419924', '2017-12-21 18:54:33.419924', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:54:33.428514', '2017-12-21 18:54:33.428514', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:54:33.428514', '2017-12-21 18:54:33.428514', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 18:54:33.437000', '2017-12-21 18:54:33.437000', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 18:54:33.437000', '2017-12-21 18:54:33.437000', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 18:54:33.437000', '2017-12-21 18:54:33.437000', 113629430, 980190962)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 18:54:33.484752"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:54:51.648944', '2017-12-21 18:54:51.648944', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:54:51.648944', '2017-12-21 18:54:51.648944', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:54:51.666032', '2017-12-21 18:54:51.666032', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:54:51.666032', '2017-12-21 18:54:51.666032', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:54:51.666032', '2017-12-21 18:54:51.666032', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:54:51.674608', '2017-12-21 18:54:51.674608', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:54:51.674608', '2017-12-21 18:54:51.674608', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 18:54:51.683527', '2017-12-21 18:54:51.683527', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 18:54:51.683527', '2017-12-21 18:54:51.683527', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 18:54:51.683527', '2017-12-21 18:54:51.683527', 113629430, 980190962)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 18:54:51.738391"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:55:00.553228', '2017-12-21 18:55:00.553228', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:55:00.553228', '2017-12-21 18:55:00.553228', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:55:00.573195', '2017-12-21 18:55:00.573195', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:55:00.573195', '2017-12-21 18:55:00.573195', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:55:00.573195', '2017-12-21 18:55:00.573195', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:55:00.581517', '2017-12-21 18:55:00.581517', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:55:00.581517', '2017-12-21 18:55:00.581517', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 18:55:00.587815', '2017-12-21 18:55:00.587815', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 18:55:00.587815', '2017-12-21 18:55:00.587815', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 18:55:00.587815', '2017-12-21 18:55:00.587815', 113629430, 980190962)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 18:55:00.620203"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 18:59:45.627794', '2017-12-21 18:59:45.627794', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 18:59:45.627794', '2017-12-21 18:59:45.627794', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 18:59:45.643385', '2017-12-21 18:59:45.643385', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 18:59:45.643385', '2017-12-21 18:59:45.643385', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 18:59:45.643385', '2017-12-21 18:59:45.643385', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 18:59:45.650399', '2017-12-21 18:59:45.650399', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 18:59:45.650399', '2017-12-21 18:59:45.650399', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 18:59:45.658464', '2017-12-21 18:59:45.658464', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 18:59:45.658464', '2017-12-21 18:59:45.658464', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 18:59:45.658464', '2017-12-21 18:59:45.658464', 113629430, 980190962)[0m
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 18:59:45.706023"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 LIMIT $2[0m  [["course_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 19:00:24.996557', '2017-12-21 19:00:24.996557', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 19:00:24.996557', '2017-12-21 19:00:24.996557', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 19:00:25.009234', '2017-12-21 19:00:25.009234', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 19:00:25.009234', '2017-12-21 19:00:25.009234', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 19:00:25.009234', '2017-12-21 19:00:25.009234', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 19:00:25.016795', '2017-12-21 19:00:25.016795', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 19:00:25.016795', '2017-12-21 19:00:25.016795', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 19:00:25.023298', '2017-12-21 19:00:25.023298', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 19:00:25.023298', '2017-12-21 19:00:25.023298', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 19:00:25.023298', '2017-12-21 19:00:25.023298', 113629430, 980190962)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 LIMIT $2[0m  [["course_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.7ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 19:00:25.083820"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 19:00:52.759638', '2017-12-21 19:00:52.759638', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 19:00:52.759638', '2017-12-21 19:00:52.759638', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 19:00:52.776457', '2017-12-21 19:00:52.776457', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 19:00:52.776457', '2017-12-21 19:00:52.776457', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 19:00:52.776457', '2017-12-21 19:00:52.776457', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 19:00:52.784935', '2017-12-21 19:00:52.784935', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 19:00:52.784935', '2017-12-21 19:00:52.784935', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 19:00:52.793896', '2017-12-21 19:00:52.793896', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 19:00:52.793896', '2017-12-21 19:00:52.793896', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 19:00:52.793896', '2017-12-21 19:00:52.793896', 113629430, 980190962)[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 LIMIT $2[0m  [["course_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 19:00:52.847745"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 19:01:02.511822', '2017-12-21 19:01:02.511822', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 19:01:02.511822', '2017-12-21 19:01:02.511822', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 19:01:02.528313', '2017-12-21 19:01:02.528313', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 19:01:02.528313', '2017-12-21 19:01:02.528313', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 19:01:02.528313', '2017-12-21 19:01:02.528313', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 19:01:02.536382', '2017-12-21 19:01:02.536382', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 19:01:02.536382', '2017-12-21 19:01:02.536382', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 19:01:02.543993', '2017-12-21 19:01:02.543993', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 19:01:02.543993', '2017-12-21 19:01:02.543993', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 19:01:02.543993', '2017-12-21 19:01:02.543993', 113629430, 980190962)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 19:01:02.581344"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."course_id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 19:01:08.438307', '2017-12-21 19:01:08.438307', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 19:01:08.438307', '2017-12-21 19:01:08.438307', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 19:01:08.456307', '2017-12-21 19:01:08.456307', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 19:01:08.456307', '2017-12-21 19:01:08.456307', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 19:01:08.456307', '2017-12-21 19:01:08.456307', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 19:01:08.466820', '2017-12-21 19:01:08.466820', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 19:01:08.466820', '2017-12-21 19:01:08.466820', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 19:01:08.475214', '2017-12-21 19:01:08.475214', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 19:01:08.475214', '2017-12-21 19:01:08.475214', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 19:01:08.475214', '2017-12-21 19:01:08.475214', 113629430, 980190962)[0m
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."course_id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC[0m  [["course_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 19:01:08.556292"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 19:01:36.148505', '2017-12-21 19:01:36.148505', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 19:01:36.148505', '2017-12-21 19:01:36.148505', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 19:01:36.159401', '2017-12-21 19:01:36.159401', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 19:01:36.159401', '2017-12-21 19:01:36.159401', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 19:01:36.159401', '2017-12-21 19:01:36.159401', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 19:01:36.168288', '2017-12-21 19:01:36.168288', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 19:01:36.168288', '2017-12-21 19:01:36.168288', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 19:01:36.176827', '2017-12-21 19:01:36.176827', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 19:01:36.176827', '2017-12-21 19:01:36.176827', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 19:01:36.176827', '2017-12-21 19:01:36.176827', 113629430, 980190962)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."course_id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC[0m  [["course_id", 980190962]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 19:01:36.247891"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 19:01:59.205102', '2017-12-21 19:01:59.205102', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 19:01:59.205102', '2017-12-21 19:01:59.205102', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 19:01:59.221734', '2017-12-21 19:01:59.221734', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 19:01:59.221734', '2017-12-21 19:01:59.221734', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 19:01:59.221734', '2017-12-21 19:01:59.221734', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 19:01:59.229956', '2017-12-21 19:01:59.229956', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 19:01:59.229956', '2017-12-21 19:01:59.229956', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 19:01:59.238324', '2017-12-21 19:01:59.238324', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 19:01:59.238324', '2017-12-21 19:01:59.238324', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 19:01:59.238324', '2017-12-21 19:01:59.238324', 113629430, 980190962)[0m
  [1m[35m (10.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 19:01:59.292029"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."course_id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC[0m  [["course_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 19:03:03.998637', '2017-12-21 19:03:03.998637', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 19:03:03.998637', '2017-12-21 19:03:03.998637', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 19:03:04.016134', '2017-12-21 19:03:04.016134', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 19:03:04.016134', '2017-12-21 19:03:04.016134', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 19:03:04.016134', '2017-12-21 19:03:04.016134', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 19:03:04.025187', '2017-12-21 19:03:04.025187', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 19:03:04.025187', '2017-12-21 19:03:04.025187', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 19:03:04.033649', '2017-12-21 19:03:04.033649', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 19:03:04.033649', '2017-12-21 19:03:04.033649', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 19:03:04.033649', '2017-12-21 19:03:04.033649', 113629430, 980190962)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 19:03:04.066137"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 LIMIT $2[0m  [["course_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 19:03:09.622387', '2017-12-21 19:03:09.622387', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 19:03:09.622387', '2017-12-21 19:03:09.622387', 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 19:03:09.639759', '2017-12-21 19:03:09.639759', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 19:03:09.639759', '2017-12-21 19:03:09.639759', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 19:03:09.639759', '2017-12-21 19:03:09.639759', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 19:03:09.646874', '2017-12-21 19:03:09.646874', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 19:03:09.646874', '2017-12-21 19:03:09.646874', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 19:03:09.654044', '2017-12-21 19:03:09.654044', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 19:03:09.654044', '2017-12-21 19:03:09.654044', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 19:03:09.654044', '2017-12-21 19:03:09.654044', 113629430, 980190962)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 LIMIT $2[0m  [["course_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 19:03:09.719666"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 19:03:24.383169', '2017-12-21 19:03:24.383169', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 19:03:24.383169', '2017-12-21 19:03:24.383169', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 19:03:24.383169', '2017-12-21 19:03:24.383169', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 19:03:24.399806', '2017-12-21 19:03:24.399806', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 19:03:24.399806', '2017-12-21 19:03:24.399806', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 19:03:24.399806', '2017-12-21 19:03:24.399806', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 19:03:24.407405', '2017-12-21 19:03:24.407405', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 19:03:24.407405', '2017-12-21 19:03:24.407405', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 19:03:24.413840', '2017-12-21 19:03:24.413840', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 19:03:24.413840', '2017-12-21 19:03:24.413840', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 19:03:24.413840', '2017-12-21 19:03:24.413840', 113629430, 980190962)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 19:03:24.445843"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 19:03:41.448227', '2017-12-21 19:03:41.448227', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 19:03:41.448227', '2017-12-21 19:03:41.448227', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 19:03:41.448227', '2017-12-21 19:03:41.448227', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 19:03:41.466138', '2017-12-21 19:03:41.466138', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 19:03:41.466138', '2017-12-21 19:03:41.466138', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 19:03:41.466138', '2017-12-21 19:03:41.466138', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 19:03:41.474886', '2017-12-21 19:03:41.474886', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 19:03:41.474886', '2017-12-21 19:03:41.474886', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 19:03:41.483030', '2017-12-21 19:03:41.483030', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 19:03:41.483030', '2017-12-21 19:03:41.483030', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 19:03:41.483030', '2017-12-21 19:03:41.483030', 113629430, 980190962)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 19:03:41.546125"], ["id", 980190962]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 19:03:46.465397', '2017-12-21 19:03:46.465397', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 19:03:46.465397', '2017-12-21 19:03:46.465397', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 19:03:46.465397', '2017-12-21 19:03:46.465397', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 19:03:46.477449', '2017-12-21 19:03:46.477449', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 19:03:46.477449', '2017-12-21 19:03:46.477449', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 19:03:46.477449', '2017-12-21 19:03:46.477449', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 19:03:46.485871', '2017-12-21 19:03:46.485871', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 19:03:46.485871', '2017-12-21 19:03:46.485871', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 19:03:46.495383', '2017-12-21 19:03:46.495383', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 19:03:46.495383', '2017-12-21 19:03:46.495383', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 19:03:46.495383', '2017-12-21 19:03:46.495383', 113629430, 980190962)[0m
  [1m[35m (14.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 19:03:46.550927"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 19:04:51.873841', '2017-12-21 19:04:51.873841', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 19:04:51.873841', '2017-12-21 19:04:51.873841', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 19:04:51.873841', '2017-12-21 19:04:51.873841', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 19:04:51.886918', '2017-12-21 19:04:51.886918', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 19:04:51.886918', '2017-12-21 19:04:51.886918', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 19:04:51.886918', '2017-12-21 19:04:51.886918', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 19:04:51.896467', '2017-12-21 19:04:51.896467', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 19:04:51.896467', '2017-12-21 19:04:51.896467', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 19:04:51.904697', '2017-12-21 19:04:51.904697', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 19:04:51.904697', '2017-12-21 19:04:51.904697', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 19:04:51.904697', '2017-12-21 19:04:51.904697', 113629430, 980190962)[0m
  [1m[35m (14.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."course_id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["course_id", 980190962], ["LIMIT", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 19:04:51.998473"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 19:05:02.020211', '2017-12-21 19:05:02.020211', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 19:05:02.020211', '2017-12-21 19:05:02.020211', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 19:05:02.020211', '2017-12-21 19:05:02.020211', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 19:05:02.032576', '2017-12-21 19:05:02.032576', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 19:05:02.032576', '2017-12-21 19:05:02.032576', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 19:05:02.032576', '2017-12-21 19:05:02.032576', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 19:05:02.040465', '2017-12-21 19:05:02.040465', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 19:05:02.040465', '2017-12-21 19:05:02.040465', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 19:05:02.049095', '2017-12-21 19:05:02.049095', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 19:05:02.049095', '2017-12-21 19:05:02.049095', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 19:05:02.049095', '2017-12-21 19:05:02.049095', 113629430, 980190962)[0m
  [1m[35m (15.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.5ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 19:05:02.139691"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 19:05:57.637339', '2017-12-21 19:05:57.637339', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 19:05:57.637339', '2017-12-21 19:05:57.637339', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 19:05:57.637339', '2017-12-21 19:05:57.637339', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 19:05:57.653794', '2017-12-21 19:05:57.653794', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 19:05:57.653794', '2017-12-21 19:05:57.653794', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 19:05:57.653794', '2017-12-21 19:05:57.653794', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 19:05:57.662037', '2017-12-21 19:05:57.662037', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 19:05:57.662037', '2017-12-21 19:05:57.662037', 298486374, 980190962, 113629430)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-12', 5, '2017-12-21 19:05:57.669788', '2017-12-21 19:05:57.669788', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-12', 10, '2017-12-21 19:05:57.669788', '2017-12-21 19:05:57.669788', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 19:05:57.669788', '2017-12-21 19:05:57.669788', 113629430, 980190962)[0m
  [1m[35m (11.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.5ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
CourseTest: test_should_titleize_title
--------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 19:05:57.768096"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:00:03.180977', '2017-12-21 20:00:03.180977', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:00:03.180977', '2017-12-21 20:00:03.180977', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:00:03.180977', '2017-12-21 20:00:03.180977', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:00:03.191221', '2017-12-21 20:00:03.191221', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:00:03.191221', '2017-12-21 20:00:03.191221', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:00:03.191221', '2017-12-21 20:00:03.191221', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:00:03.198843', '2017-12-21 20:00:03.198843', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:00:03.198843', '2017-12-21 20:00:03.198843', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:00:03.198843', '2017-12-21 20:00:03.198843', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:00:03.198843', '2017-12-21 20:00:03.198843', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:00:03.207462', '2017-12-21 20:00:03.207462', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:00:03.207462', '2017-12-21 20:00:03.207462', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:00:03.207462', '2017-12-21 20:00:03.207462', 113629430, 980190962)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:00:03.234243"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "exams" SET "min" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["min", -2], ["updated_at", "2017-12-21 20:00:03.380945"], ["id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.5ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (1.0ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.6ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.9ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:00:03.452118"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:01:33.588524', '2017-12-21 20:01:33.588524', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:01:33.588524', '2017-12-21 20:01:33.588524', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:01:33.588524', '2017-12-21 20:01:33.588524', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:01:33.604807', '2017-12-21 20:01:33.604807', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:01:33.604807', '2017-12-21 20:01:33.604807', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:01:33.604807', '2017-12-21 20:01:33.604807', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:01:33.613113', '2017-12-21 20:01:33.613113', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:01:33.613113', '2017-12-21 20:01:33.613113', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:01:33.613113', '2017-12-21 20:01:33.613113', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:01:33.613113', '2017-12-21 20:01:33.613113', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:01:33.621938', '2017-12-21 20:01:33.621938', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:01:33.621938', '2017-12-21 20:01:33.621938', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:01:33.621938', '2017-12-21 20:01:33.621938', 113629430, 980190962)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.9ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:01:33.817516"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:01:40.760726', '2017-12-21 20:01:40.760726', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:01:40.760726', '2017-12-21 20:01:40.760726', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:01:40.760726', '2017-12-21 20:01:40.760726', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:01:40.774852', '2017-12-21 20:01:40.774852', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:01:40.774852', '2017-12-21 20:01:40.774852', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:01:40.774852', '2017-12-21 20:01:40.774852', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:01:40.782929', '2017-12-21 20:01:40.782929', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:01:40.782929', '2017-12-21 20:01:40.782929', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:01:40.782929', '2017-12-21 20:01:40.782929', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:01:40.782929', '2017-12-21 20:01:40.782929', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:01:40.792379', '2017-12-21 20:01:40.792379', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:01:40.792379', '2017-12-21 20:01:40.792379', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:01:40.792379', '2017-12-21 20:01:40.792379', 113629430, 980190962)[0m
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "min" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["min", -2], ["updated_at", "2017-12-21 20:01:40.940753"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:01:40.962318"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:01:41.017023"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:02:20.410137', '2017-12-21 20:02:20.410137', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:02:20.410137', '2017-12-21 20:02:20.410137', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:02:20.410137', '2017-12-21 20:02:20.410137', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:02:20.427084', '2017-12-21 20:02:20.427084', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:02:20.427084', '2017-12-21 20:02:20.427084', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:02:20.427084', '2017-12-21 20:02:20.427084', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:02:20.435492', '2017-12-21 20:02:20.435492', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:02:20.435492', '2017-12-21 20:02:20.435492', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:02:20.435492', '2017-12-21 20:02:20.435492', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:02:20.435492', '2017-12-21 20:02:20.435492', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:02:20.444488', '2017-12-21 20:02:20.444488', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:02:20.444488', '2017-12-21 20:02:20.444488', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:02:20.444488', '2017-12-21 20:02:20.444488', 113629430, 980190962)[0m
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "exams" SET "min" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["min", -2], ["updated_at", "2017-12-21 20:02:20.485449"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:02:20.544927"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:02:20.630364"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:02:49.869214', '2017-12-21 20:02:49.869214', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:02:49.869214', '2017-12-21 20:02:49.869214', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:02:49.869214', '2017-12-21 20:02:49.869214', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:02:49.886481', '2017-12-21 20:02:49.886481', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:02:49.886481', '2017-12-21 20:02:49.886481', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:02:49.886481', '2017-12-21 20:02:49.886481', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:02:49.894461', '2017-12-21 20:02:49.894461', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:02:49.894461', '2017-12-21 20:02:49.894461', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:02:49.894461', '2017-12-21 20:02:49.894461', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:02:49.894461', '2017-12-21 20:02:49.894461', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:02:49.903237', '2017-12-21 20:02:49.903237', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:02:49.903237', '2017-12-21 20:02:49.903237', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:02:49.903237', '2017-12-21 20:02:49.903237', 113629430, 980190962)[0m
  [1m[35m (19.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:02:49.993353"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "min" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["min", -2], ["updated_at", "2017-12-21 20:02:50.032933"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.6ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.5ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:02:50.083694"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.6ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:03:36.343599', '2017-12-21 20:03:36.343599', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:03:36.343599', '2017-12-21 20:03:36.343599', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:03:36.343599', '2017-12-21 20:03:36.343599', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:03:36.359824', '2017-12-21 20:03:36.359824', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:03:36.359824', '2017-12-21 20:03:36.359824', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:03:36.359824', '2017-12-21 20:03:36.359824', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:03:36.367986', '2017-12-21 20:03:36.367986', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:03:36.367986', '2017-12-21 20:03:36.367986', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:03:36.367986', '2017-12-21 20:03:36.367986', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:03:36.367986', '2017-12-21 20:03:36.367986', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:03:36.376343', '2017-12-21 20:03:36.376343', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:03:36.376343', '2017-12-21 20:03:36.376343', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:03:36.376343', '2017-12-21 20:03:36.376343', 113629430, 980190962)[0m
  [1m[35m (10.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:03:36.515280"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:03:36.587151"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:03:59.290226', '2017-12-21 20:03:59.290226', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:03:59.290226', '2017-12-21 20:03:59.290226', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:03:59.290226', '2017-12-21 20:03:59.290226', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:03:59.301229', '2017-12-21 20:03:59.301229', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:03:59.301229', '2017-12-21 20:03:59.301229', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:03:59.301229', '2017-12-21 20:03:59.301229', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:03:59.309129', '2017-12-21 20:03:59.309129', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:03:59.309129', '2017-12-21 20:03:59.309129', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:03:59.309129', '2017-12-21 20:03:59.309129', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:03:59.309129', '2017-12-21 20:03:59.309129', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:03:59.318575', '2017-12-21 20:03:59.318575', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:03:59.318575', '2017-12-21 20:03:59.318575', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:03:59.318575', '2017-12-21 20:03:59.318575', 113629430, 980190962)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.9ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.6ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:03:59.523375"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (1.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:05:08.346098', '2017-12-21 20:05:08.346098', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:05:08.346098', '2017-12-21 20:05:08.346098', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:05:08.346098', '2017-12-21 20:05:08.346098', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:05:08.362219', '2017-12-21 20:05:08.362219', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:05:08.362219', '2017-12-21 20:05:08.362219', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:05:08.362219', '2017-12-21 20:05:08.362219', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:05:08.371284', '2017-12-21 20:05:08.371284', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:05:08.371284', '2017-12-21 20:05:08.371284', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:05:08.371284', '2017-12-21 20:05:08.371284', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:05:08.371284', '2017-12-21 20:05:08.371284', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:05:08.380312', '2017-12-21 20:05:08.380312', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:05:08.380312', '2017-12-21 20:05:08.380312', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:05:08.380312', '2017-12-21 20:05:08.380312', 113629430, 980190962)[0m
  [1m[35m (14.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (1.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:05:08.547067"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:05:08.592280"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:07:44.077913', '2017-12-21 20:07:44.077913', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:07:44.077913', '2017-12-21 20:07:44.077913', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:07:44.077913', '2017-12-21 20:07:44.077913', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:07:44.091330', '2017-12-21 20:07:44.091330', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:07:44.091330', '2017-12-21 20:07:44.091330', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:07:44.091330', '2017-12-21 20:07:44.091330', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:07:44.100276', '2017-12-21 20:07:44.100276', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:07:44.100276', '2017-12-21 20:07:44.100276', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:07:44.100276', '2017-12-21 20:07:44.100276', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:07:44.100276', '2017-12-21 20:07:44.100276', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:07:44.109942', '2017-12-21 20:07:44.109942', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:07:44.109942', '2017-12-21 20:07:44.109942', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:07:44.109942', '2017-12-21 20:07:44.109942', 113629430, 980190962)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:07:44.204569"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (1.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:07:44.291795"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:07:47.566016', '2017-12-21 20:07:47.566016', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:07:47.566016', '2017-12-21 20:07:47.566016', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:07:47.566016', '2017-12-21 20:07:47.566016', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:07:47.576416', '2017-12-21 20:07:47.576416', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:07:47.576416', '2017-12-21 20:07:47.576416', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:07:47.576416', '2017-12-21 20:07:47.576416', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:07:47.584072', '2017-12-21 20:07:47.584072', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:07:47.584072', '2017-12-21 20:07:47.584072', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:07:47.584072', '2017-12-21 20:07:47.584072', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:07:47.584072', '2017-12-21 20:07:47.584072', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:07:47.592997', '2017-12-21 20:07:47.592997', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:07:47.592997', '2017-12-21 20:07:47.592997', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:07:47.592997', '2017-12-21 20:07:47.592997', 113629430, 980190962)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:07:47.619331"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:07:47.791714"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:08:14.272204', '2017-12-21 20:08:14.272204', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:08:14.272204', '2017-12-21 20:08:14.272204', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:08:14.272204', '2017-12-21 20:08:14.272204', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:08:14.289492', '2017-12-21 20:08:14.289492', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:08:14.289492', '2017-12-21 20:08:14.289492', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:08:14.289492', '2017-12-21 20:08:14.289492', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:08:14.298618', '2017-12-21 20:08:14.298618', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:08:14.298618', '2017-12-21 20:08:14.298618', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:08:14.298618', '2017-12-21 20:08:14.298618', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:08:14.298618', '2017-12-21 20:08:14.298618', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:08:14.307822', '2017-12-21 20:08:14.307822', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:08:14.307822', '2017-12-21 20:08:14.307822', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:08:14.307822', '2017-12-21 20:08:14.307822', 113629430, 980190962)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:08:14.383902"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.5ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:08:14.498452"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (13.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:09:12.396461', '2017-12-21 20:09:12.396461', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:09:12.396461', '2017-12-21 20:09:12.396461', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:09:12.396461', '2017-12-21 20:09:12.396461', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:09:12.406200', '2017-12-21 20:09:12.406200', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:09:12.406200', '2017-12-21 20:09:12.406200', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:09:12.406200', '2017-12-21 20:09:12.406200', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:09:12.413428', '2017-12-21 20:09:12.413428', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:09:12.413428', '2017-12-21 20:09:12.413428', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:09:12.413428', '2017-12-21 20:09:12.413428', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:09:12.413428', '2017-12-21 20:09:12.413428', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:09:12.421121', '2017-12-21 20:09:12.421121', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:09:12.421121', '2017-12-21 20:09:12.421121', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:09:12.421121', '2017-12-21 20:09:12.421121', 113629430, 980190962)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:09:12.484394"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:09:12.590336"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT "results".* FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT "results".* FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT "results".* FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:09:25.473925', '2017-12-21 20:09:25.473925', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:09:25.473925', '2017-12-21 20:09:25.473925', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:09:25.473925', '2017-12-21 20:09:25.473925', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:09:25.489373', '2017-12-21 20:09:25.489373', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:09:25.489373', '2017-12-21 20:09:25.489373', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:09:25.489373', '2017-12-21 20:09:25.489373', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:09:25.496101', '2017-12-21 20:09:25.496101', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:09:25.496101', '2017-12-21 20:09:25.496101', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:09:25.496101', '2017-12-21 20:09:25.496101', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:09:25.496101', '2017-12-21 20:09:25.496101', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:09:25.503105', '2017-12-21 20:09:25.503105', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:09:25.503105', '2017-12-21 20:09:25.503105', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:09:25.503105', '2017-12-21 20:09:25.503105', 113629430, 980190962)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT "results".* FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT "results".* FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT "results".* FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT "results".* FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT "results".* FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:09:25.633754"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.7ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:09:25.698861"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:11:21.257184', '2017-12-21 20:11:21.257184', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:11:21.257184', '2017-12-21 20:11:21.257184', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:11:21.257184', '2017-12-21 20:11:21.257184', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:11:21.274665', '2017-12-21 20:11:21.274665', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:11:21.274665', '2017-12-21 20:11:21.274665', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:11:21.274665', '2017-12-21 20:11:21.274665', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:11:21.284014', '2017-12-21 20:11:21.284014', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:11:21.284014', '2017-12-21 20:11:21.284014', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:11:21.284014', '2017-12-21 20:11:21.284014', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:11:21.284014', '2017-12-21 20:11:21.284014', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:11:21.293429', '2017-12-21 20:11:21.293429', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:11:21.293429', '2017-12-21 20:11:21.293429', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:11:21.293429', '2017-12-21 20:11:21.293429', 113629430, 980190962)[0m
  [1m[35m (10.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.5ms)[0m  [1m[34mSELECT "results".* FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT "results".* FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."course_id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC[0m  [["course_id", 980190962]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT "results".* FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT "results".* FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (1.0ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:11:21.405141"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:11:21.500039"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (1.0ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:12:15.943708', '2017-12-21 20:12:15.943708', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:12:15.943708', '2017-12-21 20:12:15.943708', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:12:15.943708', '2017-12-21 20:12:15.943708', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:12:15.957709', '2017-12-21 20:12:15.957709', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:12:15.957709', '2017-12-21 20:12:15.957709', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:12:15.957709', '2017-12-21 20:12:15.957709', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:12:15.966577', '2017-12-21 20:12:15.966577', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:12:15.966577', '2017-12-21 20:12:15.966577', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:12:15.966577', '2017-12-21 20:12:15.966577', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:12:15.966577', '2017-12-21 20:12:15.966577', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:12:15.975717', '2017-12-21 20:12:15.975717', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:12:15.975717', '2017-12-21 20:12:15.975717', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:12:15.975717', '2017-12-21 20:12:15.975717', 113629430, 980190962)[0m
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:12:16.007134"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.6ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (1.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:12:16.191498"], ["id", 980190962]]
  [1m[35m (2.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:13:05.598100', '2017-12-21 20:13:05.598100', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:13:05.598100', '2017-12-21 20:13:05.598100', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:13:05.598100', '2017-12-21 20:13:05.598100', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:13:05.616144', '2017-12-21 20:13:05.616144', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:13:05.616144', '2017-12-21 20:13:05.616144', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:13:05.616144', '2017-12-21 20:13:05.616144', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:13:05.624594', '2017-12-21 20:13:05.624594', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:13:05.624594', '2017-12-21 20:13:05.624594', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:13:05.624594', '2017-12-21 20:13:05.624594', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:13:05.624594', '2017-12-21 20:13:05.624594', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:13:05.633789', '2017-12-21 20:13:05.633789', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:13:05.633789', '2017-12-21 20:13:05.633789', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:13:05.633789', '2017-12-21 20:13:05.633789', 113629430, 980190962)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:13:05.723252"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:13:05.786564"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:14:28.228107', '2017-12-21 20:14:28.228107', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:14:28.228107', '2017-12-21 20:14:28.228107', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:14:28.228107', '2017-12-21 20:14:28.228107', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:14:28.243816', '2017-12-21 20:14:28.243816', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:14:28.243816', '2017-12-21 20:14:28.243816', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:14:28.243816', '2017-12-21 20:14:28.243816', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:14:28.251837', '2017-12-21 20:14:28.251837', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:14:28.251837', '2017-12-21 20:14:28.251837', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:14:28.251837', '2017-12-21 20:14:28.251837', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:14:28.251837', '2017-12-21 20:14:28.251837', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:14:28.260460', '2017-12-21 20:14:28.260460', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:14:28.260460', '2017-12-21 20:14:28.260460', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:14:28.260460', '2017-12-21 20:14:28.260460', 113629430, 980190962)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.5ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.7ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.5ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:14:28.442394"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:14:28.495070"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (1.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:14:36.043665', '2017-12-21 20:14:36.043665', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:14:36.043665', '2017-12-21 20:14:36.043665', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:14:36.043665', '2017-12-21 20:14:36.043665', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:14:36.061259', '2017-12-21 20:14:36.061259', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:14:36.061259', '2017-12-21 20:14:36.061259', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:14:36.061259', '2017-12-21 20:14:36.061259', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:14:36.069373', '2017-12-21 20:14:36.069373', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:14:36.069373', '2017-12-21 20:14:36.069373', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:14:36.069373', '2017-12-21 20:14:36.069373', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:14:36.069373', '2017-12-21 20:14:36.069373', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:14:36.078205', '2017-12-21 20:14:36.078205', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:14:36.078205', '2017-12-21 20:14:36.078205', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:14:36.078205', '2017-12-21 20:14:36.078205', 113629430, 980190962)[0m
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (1.0ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (4.8ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:14:36.193776"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (1.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:14:36.323272"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:14:45.818862', '2017-12-21 20:14:45.818862', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:14:45.818862', '2017-12-21 20:14:45.818862', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:14:45.818862', '2017-12-21 20:14:45.818862', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:14:45.831761', '2017-12-21 20:14:45.831761', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:14:45.831761', '2017-12-21 20:14:45.831761', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:14:45.831761', '2017-12-21 20:14:45.831761', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:14:45.839550', '2017-12-21 20:14:45.839550', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:14:45.839550', '2017-12-21 20:14:45.839550', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:14:45.839550', '2017-12-21 20:14:45.839550', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:14:45.839550', '2017-12-21 20:14:45.839550', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:14:45.847982', '2017-12-21 20:14:45.847982', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:14:45.847982', '2017-12-21 20:14:45.847982', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:14:45.847982', '2017-12-21 20:14:45.847982', 113629430, 980190962)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:14:45.924015"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.9ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:14:46.016438"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:15:09.551690', '2017-12-21 20:15:09.551690', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:15:09.551690', '2017-12-21 20:15:09.551690', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:15:09.551690', '2017-12-21 20:15:09.551690', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:15:09.569398', '2017-12-21 20:15:09.569398', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:15:09.569398', '2017-12-21 20:15:09.569398', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:15:09.569398', '2017-12-21 20:15:09.569398', 926834398)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:15:09.576358', '2017-12-21 20:15:09.576358', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:15:09.576358', '2017-12-21 20:15:09.576358', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:15:09.576358', '2017-12-21 20:15:09.576358', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:15:09.576358', '2017-12-21 20:15:09.576358', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:15:09.583543', '2017-12-21 20:15:09.583543', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:15:09.583543', '2017-12-21 20:15:09.583543', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:15:09.583543', '2017-12-21 20:15:09.583543', 113629430, 980190962)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:15:09.633693"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (1.0ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.8ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:15:09.766845"], ["id", 980190962]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:15:19.066322', '2017-12-21 20:15:19.066322', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:15:19.066322', '2017-12-21 20:15:19.066322', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:15:19.066322', '2017-12-21 20:15:19.066322', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:15:19.082064', '2017-12-21 20:15:19.082064', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:15:19.082064', '2017-12-21 20:15:19.082064', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:15:19.082064', '2017-12-21 20:15:19.082064', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:15:19.090640', '2017-12-21 20:15:19.090640', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:15:19.090640', '2017-12-21 20:15:19.090640', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:15:19.090640', '2017-12-21 20:15:19.090640', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:15:19.090640', '2017-12-21 20:15:19.090640', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:15:19.100413', '2017-12-21 20:15:19.100413', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:15:19.100413', '2017-12-21 20:15:19.100413', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:15:19.100413', '2017-12-21 20:15:19.100413', 113629430, 980190962)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:15:19.206253"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:15:19.226660"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.6ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:15:40.075332', '2017-12-21 20:15:40.075332', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:15:40.075332', '2017-12-21 20:15:40.075332', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:15:40.075332', '2017-12-21 20:15:40.075332', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:15:40.084640', '2017-12-21 20:15:40.084640', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:15:40.084640', '2017-12-21 20:15:40.084640', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:15:40.084640', '2017-12-21 20:15:40.084640', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:15:40.092581', '2017-12-21 20:15:40.092581', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:15:40.092581', '2017-12-21 20:15:40.092581', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:15:40.092581', '2017-12-21 20:15:40.092581', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:15:40.092581', '2017-12-21 20:15:40.092581', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:15:40.101891', '2017-12-21 20:15:40.101891', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:15:40.101891', '2017-12-21 20:15:40.101891', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:15:40.101891', '2017-12-21 20:15:40.101891', 113629430, 980190962)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:15:40.168185"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:15:40.306818"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (1.1ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:20:46.934679', '2017-12-21 20:20:46.934679', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:20:46.934679', '2017-12-21 20:20:46.934679', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:20:46.934679', '2017-12-21 20:20:46.934679', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:20:46.951036', '2017-12-21 20:20:46.951036', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:20:46.951036', '2017-12-21 20:20:46.951036', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:20:46.951036', '2017-12-21 20:20:46.951036', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:20:46.959232', '2017-12-21 20:20:46.959232', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:20:46.959232', '2017-12-21 20:20:46.959232', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:20:46.959232', '2017-12-21 20:20:46.959232', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:20:46.959232', '2017-12-21 20:20:46.959232', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:20:46.967737', '2017-12-21 20:20:46.967737', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:20:46.967737', '2017-12-21 20:20:46.967737', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:20:46.967737', '2017-12-21 20:20:46.967737', 113629430, 980190962)[0m
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:20:47.119707"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.5ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:20:47.159348"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", -2], ["updated_at", "2017-12-21 20:20:47.174941"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:20:47.194322"], ["id", 980190962]]
  [1m[35m (2.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.5ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:21:03.390663', '2017-12-21 20:21:03.390663', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:21:03.390663', '2017-12-21 20:21:03.390663', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:21:03.390663', '2017-12-21 20:21:03.390663', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:21:03.403101', '2017-12-21 20:21:03.403101', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:21:03.403101', '2017-12-21 20:21:03.403101', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:21:03.403101', '2017-12-21 20:21:03.403101', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:21:03.411380', '2017-12-21 20:21:03.411380', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:21:03.411380', '2017-12-21 20:21:03.411380', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:21:03.411380', '2017-12-21 20:21:03.411380', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:21:03.411380', '2017-12-21 20:21:03.411380', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:21:03.420317', '2017-12-21 20:21:03.420317', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:21:03.420317', '2017-12-21 20:21:03.420317', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:21:03.420317', '2017-12-21 20:21:03.420317', 113629430, 980190962)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.5ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:21:03.511725"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.5ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:21:03.579948"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.8ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:21:03.662719"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:35:19.584649', '2017-12-21 20:35:19.584649', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:35:19.584649', '2017-12-21 20:35:19.584649', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:35:19.584649', '2017-12-21 20:35:19.584649', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:35:19.597357', '2017-12-21 20:35:19.597357', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:35:19.597357', '2017-12-21 20:35:19.597357', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:35:19.597357', '2017-12-21 20:35:19.597357', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:35:19.604908', '2017-12-21 20:35:19.604908', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:35:19.604908', '2017-12-21 20:35:19.604908', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:35:19.604908', '2017-12-21 20:35:19.604908', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:35:19.604908', '2017-12-21 20:35:19.604908', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:35:19.613717', '2017-12-21 20:35:19.613717', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:35:19.613717', '2017-12-21 20:35:19.613717', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:35:19.613717', '2017-12-21 20:35:19.613717', 113629430, 980190962)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:35:19.660375"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:35:19.698760"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456789"], ["updated_at", "2017-12-21 20:35:19.701073"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (1.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:35:19.861270"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:35:19.865599"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:35:19.927706"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:36:05.281638', '2017-12-21 20:36:05.281638', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:36:05.281638', '2017-12-21 20:36:05.281638', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:36:05.281638', '2017-12-21 20:36:05.281638', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:36:05.298385', '2017-12-21 20:36:05.298385', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:36:05.298385', '2017-12-21 20:36:05.298385', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:36:05.298385', '2017-12-21 20:36:05.298385', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:36:05.305971', '2017-12-21 20:36:05.305971', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:36:05.305971', '2017-12-21 20:36:05.305971', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:36:05.305971', '2017-12-21 20:36:05.305971', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:36:05.305971', '2017-12-21 20:36:05.305971', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:36:05.314953', '2017-12-21 20:36:05.314953', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:36:05.314953', '2017-12-21 20:36:05.314953', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:36:05.314953', '2017-12-21 20:36:05.314953', 113629430, 980190962)[0m
  [1m[35m (10.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:36:05.391733"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:36:05.422121"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456789"], ["updated_at", "2017-12-21 20:36:05.424339"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (3.0ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:36:05.451799"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (1.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:36:05.513924"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:36:05.602904"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.7ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:36:34.830427', '2017-12-21 20:36:34.830427', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:36:34.830427', '2017-12-21 20:36:34.830427', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:36:34.830427', '2017-12-21 20:36:34.830427', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:36:34.848368', '2017-12-21 20:36:34.848368', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:36:34.848368', '2017-12-21 20:36:34.848368', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:36:34.848368', '2017-12-21 20:36:34.848368', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:36:34.856646', '2017-12-21 20:36:34.856646', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:36:34.856646', '2017-12-21 20:36:34.856646', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:36:34.856646', '2017-12-21 20:36:34.856646', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:36:34.856646', '2017-12-21 20:36:34.856646', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:36:34.865442', '2017-12-21 20:36:34.865442', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:36:34.865442', '2017-12-21 20:36:34.865442', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:36:34.865442', '2017-12-21 20:36:34.865442', 113629430, 980190962)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:36:34.923719"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456789"], ["updated_at", "2017-12-21 20:36:34.926806"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:36:34.940245"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (3.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:36:34.967990"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:36:35.007031"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:36:35.053431"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:36:35.097548"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:36:49.030668', '2017-12-21 20:36:49.030668', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:36:49.030668', '2017-12-21 20:36:49.030668', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:36:49.030668', '2017-12-21 20:36:49.030668', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:36:49.048152', '2017-12-21 20:36:49.048152', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:36:49.048152', '2017-12-21 20:36:49.048152', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:36:49.048152', '2017-12-21 20:36:49.048152', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:36:49.056212', '2017-12-21 20:36:49.056212', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:36:49.056212', '2017-12-21 20:36:49.056212', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:36:49.056212', '2017-12-21 20:36:49.056212', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:36:49.056212', '2017-12-21 20:36:49.056212', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:36:49.065183', '2017-12-21 20:36:49.065183', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:36:49.065183', '2017-12-21 20:36:49.065183', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:36:49.065183', '2017-12-21 20:36:49.065183', 113629430, 980190962)[0m
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.5ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:36:49.220926"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:36:49.270048"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:36:49.320509"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:36:49.348677"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:36:49.354881"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "1234567891"], ["updated_at", "2017-12-21 20:36:49.356958"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:36:49.371236"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:43:44.758636', '2017-12-21 20:43:44.758636', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:43:44.758636', '2017-12-21 20:43:44.758636', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:43:44.758636', '2017-12-21 20:43:44.758636', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:43:44.773376', '2017-12-21 20:43:44.773376', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:43:44.773376', '2017-12-21 20:43:44.773376', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:43:44.773376', '2017-12-21 20:43:44.773376', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:43:44.782858', '2017-12-21 20:43:44.782858', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:43:44.782858', '2017-12-21 20:43:44.782858', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:43:44.782858', '2017-12-21 20:43:44.782858', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:43:44.782858', '2017-12-21 20:43:44.782858', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:43:44.800311', '2017-12-21 20:43:44.800311', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:43:44.800311', '2017-12-21 20:43:44.800311', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:43:44.800311', '2017-12-21 20:43:44.800311', 113629430, 980190962)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.5ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:43:44.916711"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.5ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:43:45.031508"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:43:45.045229"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "adsad/516a"], ["updated_at", "2017-12-21 20:43:45.056904"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:43:45.067523"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "1234567891"], ["updated_at", "2017-12-21 20:43:45.069889"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.8ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (1.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:43:45.098937"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:44:19.882685', '2017-12-21 20:44:19.882685', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:44:19.882685', '2017-12-21 20:44:19.882685', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:44:19.882685', '2017-12-21 20:44:19.882685', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:44:19.898753', '2017-12-21 20:44:19.898753', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:44:19.898753', '2017-12-21 20:44:19.898753', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:44:19.898753', '2017-12-21 20:44:19.898753', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:44:19.907093', '2017-12-21 20:44:19.907093', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:44:19.907093', '2017-12-21 20:44:19.907093', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:44:19.907093', '2017-12-21 20:44:19.907093', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:44:19.907093', '2017-12-21 20:44:19.907093', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:44:19.915937', '2017-12-21 20:44:19.915937', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:44:19.915937', '2017-12-21 20:44:19.915937', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:44:19.915937', '2017-12-21 20:44:19.915937', 113629430, 980190962)[0m
  [1m[35m (11.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.5ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:44:19.975245"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:44:20.090842"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:44:20.143330"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:44:20.154210"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456789"], ["updated_at", "2017-12-21 20:44:20.156282"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:44:20.180121"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:44:20.221233"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:45:18.617596', '2017-12-21 20:45:18.617596', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:45:18.617596', '2017-12-21 20:45:18.617596', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:45:18.617596', '2017-12-21 20:45:18.617596', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:45:18.635299', '2017-12-21 20:45:18.635299', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:45:18.635299', '2017-12-21 20:45:18.635299', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:45:18.635299', '2017-12-21 20:45:18.635299', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:45:18.643040', '2017-12-21 20:45:18.643040', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:45:18.643040', '2017-12-21 20:45:18.643040', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:45:18.643040', '2017-12-21 20:45:18.643040', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:45:18.643040', '2017-12-21 20:45:18.643040', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:45:18.652126', '2017-12-21 20:45:18.652126', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:45:18.652126', '2017-12-21 20:45:18.652126', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:45:18.652126', '2017-12-21 20:45:18.652126', 113629430, 980190962)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:45:18.709102"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:45:18.741633"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456789"], ["updated_at", "2017-12-21 20:45:18.743916"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:45:18.751160"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.7ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:45:18.816001"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:45:18.832387"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:45:18.945471"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:45:29.642183', '2017-12-21 20:45:29.642183', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:45:29.642183', '2017-12-21 20:45:29.642183', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:45:29.642183', '2017-12-21 20:45:29.642183', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:45:29.656896', '2017-12-21 20:45:29.656896', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:45:29.656896', '2017-12-21 20:45:29.656896', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:45:29.656896', '2017-12-21 20:45:29.656896', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:45:29.665441', '2017-12-21 20:45:29.665441', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:45:29.665441', '2017-12-21 20:45:29.665441', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:45:29.665441', '2017-12-21 20:45:29.665441', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:45:29.665441', '2017-12-21 20:45:29.665441', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:45:29.673471', '2017-12-21 20:45:29.673471', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:45:29.673471', '2017-12-21 20:45:29.673471', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:45:29.673471', '2017-12-21 20:45:29.673471', 113629430, 980190962)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:45:29.723267"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "1234567891321"], ["updated_at", "2017-12-21 20:45:29.726433"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:45:29.734030"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:45:29.763760"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:45:29.803169"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:45:29.817177"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:45:29.957772"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:45:41.811105', '2017-12-21 20:45:41.811105', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:45:41.811105', '2017-12-21 20:45:41.811105', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:45:41.811105', '2017-12-21 20:45:41.811105', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:45:41.828710', '2017-12-21 20:45:41.828710', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:45:41.828710', '2017-12-21 20:45:41.828710', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:45:41.828710', '2017-12-21 20:45:41.828710', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:45:41.837368', '2017-12-21 20:45:41.837368', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:45:41.837368', '2017-12-21 20:45:41.837368', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:45:41.837368', '2017-12-21 20:45:41.837368', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:45:41.837368', '2017-12-21 20:45:41.837368', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:45:41.847526', '2017-12-21 20:45:41.847526', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:45:41.847526', '2017-12-21 20:45:41.847526', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:45:41.847526', '2017-12-21 20:45:41.847526', 113629430, 980190962)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.8ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:45:41.950701"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:45:42.046224"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (1.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:45:42.086222"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:45:42.093111"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "1234567891321"], ["updated_at", "2017-12-21 20:45:42.095481"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:45:42.102095"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:45:42.125279"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:46:10.780144', '2017-12-21 20:46:10.780144', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:46:10.780144', '2017-12-21 20:46:10.780144', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:46:10.780144', '2017-12-21 20:46:10.780144', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:46:10.797540', '2017-12-21 20:46:10.797540', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:46:10.797540', '2017-12-21 20:46:10.797540', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:46:10.797540', '2017-12-21 20:46:10.797540', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:46:10.805791', '2017-12-21 20:46:10.805791', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:46:10.805791', '2017-12-21 20:46:10.805791', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:46:10.805791', '2017-12-21 20:46:10.805791', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:46:10.805791', '2017-12-21 20:46:10.805791', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:46:10.815075', '2017-12-21 20:46:10.815075', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:46:10.815075', '2017-12-21 20:46:10.815075', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:46:10.815075', '2017-12-21 20:46:10.815075', 113629430, 980190962)[0m
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (1.0ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (1.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:46:10.977539"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:46:11.009783"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456789"], ["updated_at", "2017-12-21 20:46:11.033944"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:46:11.045238"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.6ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:46:11.060267"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:46:11.109140"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:46:32.156968', '2017-12-21 20:46:32.156968', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:46:32.156968', '2017-12-21 20:46:32.156968', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:46:32.156968', '2017-12-21 20:46:32.156968', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:46:32.173030', '2017-12-21 20:46:32.173030', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:46:32.173030', '2017-12-21 20:46:32.173030', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:46:32.173030', '2017-12-21 20:46:32.173030', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:46:32.181734', '2017-12-21 20:46:32.181734', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:46:32.181734', '2017-12-21 20:46:32.181734', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:46:32.181734', '2017-12-21 20:46:32.181734', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:46:32.181734', '2017-12-21 20:46:32.181734', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:46:32.191071', '2017-12-21 20:46:32.191071', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:46:32.191071', '2017-12-21 20:46:32.191071', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:46:32.191071', '2017-12-21 20:46:32.191071', 113629430, 980190962)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:46:32.238767"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:46:32.337829"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:46:32.412080"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:46:32.442213"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456789"], ["updated_at", "2017-12-21 20:46:32.448855"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:46:32.482950"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:46:41.300451', '2017-12-21 20:46:41.300451', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:46:41.300451', '2017-12-21 20:46:41.300451', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:46:41.300451', '2017-12-21 20:46:41.300451', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:46:41.318024', '2017-12-21 20:46:41.318024', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:46:41.318024', '2017-12-21 20:46:41.318024', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:46:41.318024', '2017-12-21 20:46:41.318024', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:46:41.326875', '2017-12-21 20:46:41.326875', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:46:41.326875', '2017-12-21 20:46:41.326875', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:46:41.326875', '2017-12-21 20:46:41.326875', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:46:41.326875', '2017-12-21 20:46:41.326875', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:46:41.336645', '2017-12-21 20:46:41.336645', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:46:41.336645', '2017-12-21 20:46:41.336645', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:46:41.336645', '2017-12-21 20:46:41.336645', 113629430, 980190962)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:46:41.447725"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.7ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (1.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:46:41.532701"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:46:41.553837"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456789"], ["updated_at", "2017-12-21 20:46:41.625403"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:46:41.633920"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:46:41.640268"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:47:25.970110', '2017-12-21 20:47:25.970110', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:47:25.970110', '2017-12-21 20:47:25.970110', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:47:25.970110', '2017-12-21 20:47:25.970110', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:47:25.988050', '2017-12-21 20:47:25.988050', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:47:25.988050', '2017-12-21 20:47:25.988050', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:47:25.988050', '2017-12-21 20:47:25.988050', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:47:25.996913', '2017-12-21 20:47:25.996913', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:47:25.996913', '2017-12-21 20:47:25.996913', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:47:25.996913', '2017-12-21 20:47:25.996913', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:47:25.996913', '2017-12-21 20:47:25.996913', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:47:26.004845', '2017-12-21 20:47:26.004845', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:47:26.004845', '2017-12-21 20:47:26.004845', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:47:26.004845', '2017-12-21 20:47:26.004845', 113629430, 980190962)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:47:26.053939"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:47:26.090164"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:47:26.233968"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456789"], ["updated_at", "2017-12-21 20:47:26.273388"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:47:26.283751"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:47:26.296005"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:48:16.123616', '2017-12-21 20:48:16.123616', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:48:16.123616', '2017-12-21 20:48:16.123616', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:48:16.123616', '2017-12-21 20:48:16.123616', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:48:16.139745', '2017-12-21 20:48:16.139745', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:48:16.139745', '2017-12-21 20:48:16.139745', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:48:16.139745', '2017-12-21 20:48:16.139745', 926834398)[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:48:16.153657', '2017-12-21 20:48:16.153657', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:48:16.153657', '2017-12-21 20:48:16.153657', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:48:16.153657', '2017-12-21 20:48:16.153657', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:48:16.153657', '2017-12-21 20:48:16.153657', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:48:16.168973', '2017-12-21 20:48:16.168973', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:48:16.168973', '2017-12-21 20:48:16.168973', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:48:16.168973', '2017-12-21 20:48:16.168973', 113629430, 980190962)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:48:16.259895"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (2.7ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.7ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (2.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (1.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.5ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:48:16.370892"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:48:16.378665"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:48:16.410553"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:48:16.444153"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.8ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:48:16.511429"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.7ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:48:37.743084', '2017-12-21 20:48:37.743084', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:48:37.743084', '2017-12-21 20:48:37.743084', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:48:37.743084', '2017-12-21 20:48:37.743084', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:48:37.752282', '2017-12-21 20:48:37.752282', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:48:37.752282', '2017-12-21 20:48:37.752282', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:48:37.752282', '2017-12-21 20:48:37.752282', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:48:37.759775', '2017-12-21 20:48:37.759775', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:48:37.759775', '2017-12-21 20:48:37.759775', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:48:37.759775', '2017-12-21 20:48:37.759775', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:48:37.759775', '2017-12-21 20:48:37.759775', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:48:37.767431', '2017-12-21 20:48:37.767431', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:48:37.767431', '2017-12-21 20:48:37.767431', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:48:37.767431', '2017-12-21 20:48:37.767431', 113629430, 980190962)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (6.0ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:48:37.902276"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (1.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:48:37.990145"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:48:38.034175"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:48:38.042029"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:48:38.051700"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:48:38.059061"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:49:38.229797', '2017-12-21 20:49:38.229797', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:49:38.229797', '2017-12-21 20:49:38.229797', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:49:38.229797', '2017-12-21 20:49:38.229797', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:49:38.242693', '2017-12-21 20:49:38.242693', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:49:38.242693', '2017-12-21 20:49:38.242693', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:49:38.242693', '2017-12-21 20:49:38.242693', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:49:38.250872', '2017-12-21 20:49:38.250872', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:49:38.250872', '2017-12-21 20:49:38.250872', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:49:38.250872', '2017-12-21 20:49:38.250872', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:49:38.250872', '2017-12-21 20:49:38.250872', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:49:38.259699', '2017-12-21 20:49:38.259699', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:49:38.259699', '2017-12-21 20:49:38.259699', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:49:38.259699', '2017-12-21 20:49:38.259699', 113629430, 980190962)[0m
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:49:38.314037"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:49:38.352315"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.5ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:49:38.418905"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:49:38.425863"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:49:38.449863"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_have_course_set
----------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:49:38.573102"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:50:47.770788', '2017-12-21 20:50:47.770788', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:50:47.770788', '2017-12-21 20:50:47.770788', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:50:47.770788', '2017-12-21 20:50:47.770788', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:50:47.786811', '2017-12-21 20:50:47.786811', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:50:47.786811', '2017-12-21 20:50:47.786811', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:50:47.786811', '2017-12-21 20:50:47.786811', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:50:47.795818', '2017-12-21 20:50:47.795818', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:50:47.795818', '2017-12-21 20:50:47.795818', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:50:47.795818', '2017-12-21 20:50:47.795818', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:50:47.795818', '2017-12-21 20:50:47.795818', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:50:47.805799', '2017-12-21 20:50:47.805799', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:50:47.805799', '2017-12-21 20:50:47.805799', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:50:47.805799', '2017-12-21 20:50:47.805799', 113629430, 980190962)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_associate_exams
----------------------------------------
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:50:47.881995"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:50:47.889795"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_have_course_set
----------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:50:47.919430"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StudentTest: test_should_associate_results
------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:50:47.976651"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:50:48.112716"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:50:48.142481"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:51:03.854388', '2017-12-21 20:51:03.854388', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:51:03.854388', '2017-12-21 20:51:03.854388', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:51:03.854388', '2017-12-21 20:51:03.854388', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:51:03.867585', '2017-12-21 20:51:03.867585', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:51:03.867585', '2017-12-21 20:51:03.867585', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:51:03.867585', '2017-12-21 20:51:03.867585', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:51:03.876597', '2017-12-21 20:51:03.876597', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:51:03.876597', '2017-12-21 20:51:03.876597', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:51:03.876597', '2017-12-21 20:51:03.876597', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:51:03.876597', '2017-12-21 20:51:03.876597', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:51:03.885815', '2017-12-21 20:51:03.885815', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:51:03.885815', '2017-12-21 20:51:03.885815', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:51:03.885815', '2017-12-21 20:51:03.885815', 113629430, 980190962)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:51:03.941689"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:51:03.998874"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:51:04.026583"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_associate_exams
----------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StudentTest: test_should_associate_results
------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_have_course_set
----------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:51:04.062278"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:51:04.076563"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:51:04.095446"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:51:24.345184', '2017-12-21 20:51:24.345184', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:51:24.345184', '2017-12-21 20:51:24.345184', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:51:24.345184', '2017-12-21 20:51:24.345184', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:51:24.361439', '2017-12-21 20:51:24.361439', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:51:24.361439', '2017-12-21 20:51:24.361439', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:51:24.361439', '2017-12-21 20:51:24.361439', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:51:24.369604', '2017-12-21 20:51:24.369604', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:51:24.369604', '2017-12-21 20:51:24.369604', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:51:24.369604', '2017-12-21 20:51:24.369604', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:51:24.369604', '2017-12-21 20:51:24.369604', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:51:24.379034', '2017-12-21 20:51:24.379034', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:51:24.379034', '2017-12-21 20:51:24.379034', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:51:24.379034', '2017-12-21 20:51:24.379034', 113629430, 980190962)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_have_course_set
----------------------------------------
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:51:24.445831"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:51:24.456538"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_associate_exams
----------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" INNER JOIN "results" ON "exams"."id" = "results"."exam_id" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StudentTest: test_should_associate_results
------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:51:24.499195"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (1.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (1.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:51:24.584457"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:51:24.675899"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:51:24.690113"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:54:30.556856', '2017-12-21 20:54:30.556856', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:54:30.556856', '2017-12-21 20:54:30.556856', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:54:30.556856', '2017-12-21 20:54:30.556856', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:54:30.570477', '2017-12-21 20:54:30.570477', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:54:30.570477', '2017-12-21 20:54:30.570477', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:54:30.570477', '2017-12-21 20:54:30.570477', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:54:30.576953', '2017-12-21 20:54:30.576953', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:54:30.576953', '2017-12-21 20:54:30.576953', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:54:30.576953', '2017-12-21 20:54:30.576953', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:54:30.576953', '2017-12-21 20:54:30.576953', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:54:30.584045', '2017-12-21 20:54:30.584045', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:54:30.584045', '2017-12-21 20:54:30.584045', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:54:30.584045', '2017-12-21 20:54:30.584045', 113629430, 980190962)[0m
  [1m[35m (15.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.4ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:54:30.722590"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StudentTest: test_should_associate_results
------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:54:30.783165"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
StudentTest: test_should_get_mark_for_an_exam
---------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (1.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."student_id" = 980190962 AND "results"."exam_id" = 980190962 ORDER BY "results"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_have_course_set
----------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_associate_exams
----------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" INNER JOIN "results" ON "exams"."id" = "results"."exam_id" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:54:30.819162"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
StudentTest: test_should_titleize_names_before_save
---------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:54:30.843843"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:54:30.892439"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:54:30.907412"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:55:18.397738', '2017-12-21 20:55:18.397738', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:55:18.397738', '2017-12-21 20:55:18.397738', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:55:18.397738', '2017-12-21 20:55:18.397738', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:55:18.415859', '2017-12-21 20:55:18.415859', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:55:18.415859', '2017-12-21 20:55:18.415859', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:55:18.415859', '2017-12-21 20:55:18.415859', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:55:18.424998', '2017-12-21 20:55:18.424998', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:55:18.424998', '2017-12-21 20:55:18.424998', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:55:18.424998', '2017-12-21 20:55:18.424998', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:55:18.424998', '2017-12-21 20:55:18.424998', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:55:18.434183', '2017-12-21 20:55:18.434183', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:55:18.434183', '2017-12-21 20:55:18.434183', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:55:18.434183', '2017-12-21 20:55:18.434183', 113629430, 980190962)[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StudentTest: test_should_associate_results
------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:55:18.492967"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:55:18.503587"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
StudentTest: test_should_titleize_names_before_save
---------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:55:18.524052"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_associate_exams
----------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" INNER JOIN "results" ON "exams"."id" = "results"."exam_id" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_have_course_set
----------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
StudentTest: test_should_get_mark_for_an_exam
---------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:55:18.581488"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:55:18.637146"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:55:18.759865"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 20:56:24.828854', '2017-12-21 20:56:24.828854', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 20:56:24.828854', '2017-12-21 20:56:24.828854', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 20:56:24.828854', '2017-12-21 20:56:24.828854', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 20:56:24.841060', '2017-12-21 20:56:24.841060', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 20:56:24.841060', '2017-12-21 20:56:24.841060', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 20:56:24.841060', '2017-12-21 20:56:24.841060', 926834398)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 20:56:24.850372', '2017-12-21 20:56:24.850372', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 20:56:24.850372', '2017-12-21 20:56:24.850372', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:56:24.850372', '2017-12-21 20:56:24.850372', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 20:56:24.850372', '2017-12-21 20:56:24.850372', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 20:56:24.860339', '2017-12-21 20:56:24.860339', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 20:56:24.860339', '2017-12-21 20:56:24.860339', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 20:56:24.860339', '2017-12-21 20:56:24.860339', 113629430, 980190962)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:56:24.933419"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (1.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 20:56:25.040074"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.8ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 20:56:25.104407"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
StudentTest: test_should_get_mark_for_an_exam
---------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StudentTest: test_should_associate_results
------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_have_course_set
----------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
StudentTest: test_should_get_full_name
--------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 20:56:25.141062"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_associate_exams
----------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" INNER JOIN "results" ON "exams"."id" = "results"."exam_id" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 20:56:25.155554"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
StudentTest: test_should_titleize_names_before_save
---------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 20:56:25.186182"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 21:57:05.652255', '2017-12-21 21:57:05.652255', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 21:57:05.652255', '2017-12-21 21:57:05.652255', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 21:57:05.652255', '2017-12-21 21:57:05.652255', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 21:57:05.662880', '2017-12-21 21:57:05.662880', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 21:57:05.662880', '2017-12-21 21:57:05.662880', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 21:57:05.662880', '2017-12-21 21:57:05.662880', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 21:57:05.671124', '2017-12-21 21:57:05.671124', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 21:57:05.671124', '2017-12-21 21:57:05.671124', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 21:57:05.671124', '2017-12-21 21:57:05.671124', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 21:57:05.671124', '2017-12-21 21:57:05.671124', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 21:57:05.680032', '2017-12-21 21:57:05.680032', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 21:57:05.680032', '2017-12-21 21:57:05.680032', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 21:57:05.680032', '2017-12-21 21:57:05.680032', 113629430, 980190962)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
StudentTest: test_should_titleize_names_before_save
---------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 21:57:05.742000"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 21:57:05.756284"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 21:57:05.763601"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
StudentTest: test_should_get_mark_for_an_exam
---------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
StudentTest: test_should_get_full_name
--------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_associate_exams
----------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" INNER JOIN "results" ON "exams"."id" = "results"."exam_id" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_have_course_set
----------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StudentTest: test_should_associate_results
------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 21:57:05.845370"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 21:57:05.878638"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 21:57:05.894927"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-21 22:13:47.672862', '2017-12-21 22:13:47.672862', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-21 22:13:47.672862', '2017-12-21 22:13:47.672862', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-21 22:13:47.672862', '2017-12-21 22:13:47.672862', 113629430, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-21 22:13:47.684033', '2017-12-21 22:13:47.684033', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-21 22:13:47.684033', '2017-12-21 22:13:47.684033', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-21 22:13:47.684033', '2017-12-21 22:13:47.684033', 926834398)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-21 22:13:47.692031', '2017-12-21 22:13:47.692031', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-21 22:13:47.692031', '2017-12-21 22:13:47.692031', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 22:13:47.692031', '2017-12-21 22:13:47.692031', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-21 22:13:47.692031', '2017-12-21 22:13:47.692031', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-21 22:13:47.700969', '2017-12-21 22:13:47.700969', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-21 22:13:47.700969', '2017-12-21 22:13:47.700969', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-21 22:13:47.700969', '2017-12-21 22:13:47.700969', 113629430, 980190962)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-21 22:13:47.759369"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 22:13:47.777746"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.5ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
StudentTest: test_should_get_mark_for_an_exam
---------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-21 22:13:47.940539"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-21 22:13:47.949077"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-21 22:13:47.955388"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
StudentTest: test_should_titleize_names_before_save
---------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_associate_exams
----------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" INNER JOIN "results" ON "exams"."id" = "results"."exam_id" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_have_course_set
----------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StudentTest: test_should_associate_results
------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
StudentTest: test_should_get_full_name
--------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-21 22:13:48.019044"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (13.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (21.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "results" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "exams" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "students" DISABLE TRIGGER ALL[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (35.5ms)[0m  [1m[31mDELETE FROM "students"[0m
  [1m[36mFixture Insert (12.1ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Raimondi', 'Sebastian', '40345182', '21755/8', 'example@example.com', '2017-12-22 01:33:39.363286', '2017-12-22 01:33:39.363286', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('borrelli', 'franco', '12345678', '12345/6', 'example@example.com', '2017-12-22 01:33:39.363286', '2017-12-22 01:33:39.363286', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "students" ("surname", "name", "dni", "number", "email", "created_at", "updated_at", "id", "course_id") VALUES ('Brost', 'Pedro', '98765432', '98765/4', 'example@example.com', '2017-12-22 01:33:39.363286', '2017-12-22 01:33:39.363286', 113629430, 980190962)[0m
  [1m[36mFixture Delete (15.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (11.9ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2017, 'Curso 1', '2017-12-22 01:33:39.477098', '2017-12-22 01:33:39.477098', 980190962)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2018, 'Curso 2', '2017-12-22 01:33:39.477098', '2017-12-22 01:33:39.477098', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("year", "title", "created_at", "updated_at", "id") VALUES (2019, 'Curso 3', '2017-12-22 01:33:39.477098', '2017-12-22 01:33:39.477098', 926834398)[0m
  [1m[36mFixture Delete (7.3ms)[0m  [1m[31mDELETE FROM "results"[0m
  [1m[36mFixture Insert (12.1ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (4, '2017-12-22 01:33:39.514022', '2017-12-22 01:33:39.514022', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (5, '2017-12-22 01:33:39.514022', '2017-12-22 01:33:39.514022', 298486374, 980190962, 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-22 01:33:39.514022', '2017-12-22 01:33:39.514022', 113629430, 980190962, 113629430)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "results" ("mark", "created_at", "updated_at", "id", "exam_id", "student_id") VALUES (6, '2017-12-22 01:33:39.514022', '2017-12-22 01:33:39.514022', 281110143, 298486374, 980190962)[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "exams"[0m
  [1m[36mFixture Insert (12.7ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 1', '2017-12-10', 5, '2017-12-22 01:33:39.543875', '2017-12-22 01:33:39.543875', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 2', '2017-12-11', 10, '2017-12-22 01:33:39.543875', '2017-12-22 01:33:39.543875', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "exams" ("title", "date", "min", "created_at", "updated_at", "id", "course_id") VALUES ('Exam 3', '2017-12-12', 13, '2017-12-22 01:33:39.543875', '2017-12-22 01:33:39.543875', 113629430, 980190962)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "results" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "exams" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "students" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
StudentTest: test_should_not_save_if_email_is_not_present
---------------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_if_dni_length_is_not_between_5_and_8
----------------------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "students" SET "dni" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["dni", "123456"], ["updated_at", "2017-12-22 01:33:39.606481"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
StudentTest: test_should_not_save_if_surname_is_not_present
-----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
StudentTest: test_should_not_save_if_email_is_invalid
-----------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "email" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["email", "mailejemplo@mail.com"], ["updated_at", "2017-12-22 01:33:39.620750"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
StudentTest: test_should_get_full_name
--------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
StudentTest: test_should_not_save_if_dni_is_not_present
-------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_not_present
----------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
StudentTest: test_should_get_mark_for_an_exam
---------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.4ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
StudentTest: test_should_not_save_if_number_is_invalid
------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "students" SET "number" = $1, "updated_at" = $2 WHERE "students"."id" = $3[0m  [["number", "12345/5"], ["updated_at", "2017-12-22 01:33:39.666425"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
StudentTest: test_should_titleize_names_before_save
---------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_have_course_set
----------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
StudentTest: test_should_associate_results
------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
StudentTest: test_should_associate_exams
----------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" INNER JOIN "results" ON "exams"."id" = "results"."exam_id" WHERE "results"."student_id" = $1[0m  [["student_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
StudentTest: test_should_not_save_if_name_is_not_present
--------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
ResultTest: test_mark_can_be_nil
--------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "results" SET "mark" = $1, "updated_at" = $2 WHERE "results"."id" = $3[0m  [["mark", nil], ["updated_at", "2017-12-22 01:33:39.704762"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResultTest: test_mark_can_only_be_integer_or_nil
------------------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ResultTest: test_mark_cant_be_negative
--------------------------------------
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 ORDER BY "exams"."date" ASC, "exams"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 ORDER BY "students"."surname" ASC, "students"."name" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CourseTest: test_should_not_save_if_title_is_not_present
--------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
CourseTest: test_should_associate_exams
---------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "exams" WHERE "exams"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "exams" WHERE "exams"."course_id" = $1 AND "exams"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
CourseTest: test_should_not_save_if_year_is_negative
----------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CourseTest: test_should_build_full_title
----------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_integer
-------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
CourseTest: test_should_not_save_if_year_is_not_present
-------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CourseTest: test_should_titleize_title_before_save
--------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "courses" SET "title" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-22 01:33:39.745624"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
CourseTest: test_should_associate_students
------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" WHERE "students"."course_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["course_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CourseTest: test_should_not_save_if_year_has_less_than_4_digits
---------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
ExamTest: test_should_associate_students
----------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "students" INNER JOIN "results" ON "students"."id" = "results"."student_id" WHERE "results"."exam_id" = $1 AND "students"."id" = $2 LIMIT $3[0m  [["exam_id", 298486374], ["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ExamTest: test_should_not_save_if_year_is_not_the_same_as_course_year
---------------------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ExamTest: test_should_titleize_title_before_save
------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "exams" SET "title" = $1, "updated_at" = $2 WHERE "exams"."id" = $3[0m  [["title", "Soy Un Titulo"], ["updated_at", "2017-12-22 01:33:39.780592"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_present
----------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_failed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_pass_percentage
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
ExamTest: test_should_associate_course
--------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_return_not_present_students
-------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."course_id" = $1[0m  [["course_id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark < 10)[0m  [["exam_id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ExamTest: test_should_not_save_if_title_is_not_present
------------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ExamTest: test_should_return_passed_students
--------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1 AND (mark >= 5)[0m  [["exam_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ExamTest: test_should_get_mark_for_student
------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ExamTest: test_should_say_if_student_passed
-------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.3ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 ORDER BY "results"."id" ASC LIMIT $3[0m  [["exam_id", 980190962], ["student_id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ExamTest: test_should_not_save_if_min_is_negative
-------------------------------------------------
  [1m[36mExam Load (0.2ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ExamTest: test_should_associate_results
---------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 980190962]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Load (0.2ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 113629430], ["LIMIT", 1]]
  [1m[36mResult Load (0.1ms)[0m  [1m[34mSELECT  "results".* FROM "results" WHERE "results"."id" = $1 LIMIT $2[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mResult Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."id" = $2 LIMIT $3[0m  [["exam_id", 980190962], ["id", 281110143], ["LIMIT", 1]]
  [1m[36mExam Load (0.3ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "results" WHERE "results"."exam_id" = $1[0m  [["exam_id", 298486374]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
ExamTest: test_should_not_save_if_date_is_not_present
-----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ExamTest: test_should_not_save_if_min_is_not_integer
----------------------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 ORDER BY "courses"."year" ASC, "courses"."title" ASC LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ExamTest: test_should_say_if_has_mark_for
-----------------------------------------
  [1m[36mExam Load (0.1ms)[0m  [1m[34mSELECT  "exams".* FROM "exams" WHERE "exams"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT  "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 980190962], ["LIMIT", 1]]
  [1m[36mResult Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "results" WHERE "results"."exam_id" = $1 AND "results"."student_id" = $2 AND ("results"."mark" IS NOT NULL) LIMIT $3[0m  [["exam_id", 298486374], ["student_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
